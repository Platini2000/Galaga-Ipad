const _0x40ad02=_0x1dd2;(function(_0x4ede5d,_0x1da35a){const _0x409b14=_0x1dd2,_0x7ab5ac=_0x4ede5d();while(!![]){try{const _0x5642b7=-parseInt(_0x409b14(0x1b5))/0x1+-parseInt(_0x409b14(0x12b))/0x2*(-parseInt(_0x409b14(0xf7))/0x3)+-parseInt(_0x409b14(0x13b))/0x4+parseInt(_0x409b14(0x1c0))/0x5*(-parseInt(_0x409b14(0x180))/0x6)+parseInt(_0x409b14(0x1c6))/0x7*(-parseInt(_0x409b14(0x1c1))/0x8)+parseInt(_0x409b14(0x1b2))/0x9+-parseInt(_0x409b14(0x1ae))/0xa*(-parseInt(_0x409b14(0x137))/0xb);if(_0x5642b7===_0x1da35a)break;else _0x7ab5ac['push'](_0x7ab5ac['shift']());}catch(_0x2ecf37){_0x7ab5ac['push'](_0x7ab5ac['shift']());}}}(_0x46eb,0x26dd9));const ENEMY1_TYPE=_0x40ad02(0x176),ENEMY2_TYPE=_0x40ad02(0x1ad),ENEMY3_TYPE='enemy3',ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math[_0x40ad02(0x169)](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math[_0x40ad02(0x169)](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math[_0x40ad02(0x169)](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0x40ad02(0x169)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5;let audioCtx,masterGainNode,previousMasterGain=0.5,audioBuffers={},playingLoopSources={};function _0x1dd2(_0x4a2c33,_0x98b21e){const _0x46eb9e=_0x46eb();return _0x1dd2=function(_0x1dd25b,_0x2aa141){_0x1dd25b=_0x1dd25b-0xec;let _0x1b6034=_0x46eb9e[_0x1dd25b];return _0x1b6034;},_0x1dd2(_0x4a2c33,_0x98b21e);}const SOUND_PATHS={'PLAYER_SHOOT':_0x40ad02(0x164),'ENEMY_SHOOT':_0x40ad02(0x170),'EXPLOSION':_0x40ad02(0xed),'GAME_OVER':_0x40ad02(0x119),'LOST_LIFE':'Geluiden/lost-live.mp3','ENTRANCE':_0x40ad02(0x1c9),'BOSS_DIVE':_0x40ad02(0x19c),'LEVEL_UP':_0x40ad02(0x1b0),'BUTTERFLY_DIVE':_0x40ad02(0x114),'START_GAME':'Geluiden/Start.mp3','COIN':'Geluiden/coin.mp3','BEE_HIT':_0x40ad02(0x134),'BUTTERFLY_HIT':_0x40ad02(0x101),'BOSS_HIT_1':_0x40ad02(0x158),'BOSS_HIT_2':_0x40ad02(0xf2),'GRID_BACKGROUND':_0x40ad02(0x12f),'EXTRA_LIFE':_0x40ad02(0x123),'CS_PERFECT':_0x40ad02(0x18c),'CS_CLEAR':'Geluiden/CS-Clear.mp3','WAVE_UP':'Geluiden/Waveup.mp3','MENU_MUSIC':'Geluiden/Menu-music.mp3','READY':_0x40ad02(0x19d),'TRIPLE_ATTACK':'Geluiden/Triple.mp3','CAPTURE':_0x40ad02(0x103),'SHIP_CAPTURED':'Geluiden/Capture-ship.mp3','DUAL_SHIP':_0x40ad02(0x18f),'RESULTS_MUSIC':'Geluiden/results-music.mp3','HI_SCORE':'Geluiden/hi-score.mp3'};let soundVolumes={'PLAYER_SHOOT':0x1,'ENEMY_SHOOT':0.7,'EXPLOSION':0.9,'GAME_OVER':0.8,'LOST_LIFE':0.9,'ENTRANCE':0.6,'BOSS_DIVE':0.7,'LEVEL_UP':0.8,'BUTTERFLY_DIVE':0.6,'START_GAME':0.7,'COIN':0.9,'BEE_HIT':0.8,'BUTTERFLY_HIT':0.8,'BOSS_HIT_1':0.9,'BOSS_HIT_2':0x1,'GRID_BACKGROUND':0.35,'EXTRA_LIFE':0.9,'CS_PERFECT':0x1,'CS_CLEAR':0.8,'WAVE_UP':0.7,'MENU_MUSIC':0.45,'READY':0.7,'TRIPLE_ATTACK':0.8,'CAPTURE':0.7,'SHIP_CAPTURED':0x1,'DUAL_SHIP':0.9,'RESULTS_MUSIC':0.5,'HI_SCORE':0x1};const playerShootSound='PLAYER_SHOOT',enemyShootSound=_0x40ad02(0xf6),explosionSound=_0x40ad02(0x12d),gameOverSound=_0x40ad02(0x174),lostLifeSound=_0x40ad02(0x124),entranceSound=_0x40ad02(0x17b),bossGalagaDiveSound='BOSS_DIVE',levelUpSound=_0x40ad02(0x129),butterflyDiveSound=_0x40ad02(0x197),startSound=_0x40ad02(0x1c4),coinSound=_0x40ad02(0x1a1),beeHitSound='BEE_HIT',butterflyHitSound=_0x40ad02(0xf9),bossHit1Sound='BOSS_HIT_1',bossHit2Sound='BOSS_HIT_2',gridBackgroundSound=_0x40ad02(0x19a),extraLifeSound='EXTRA_LIFE',csPerfectSound='CS_PERFECT',csClearSound=_0x40ad02(0xf5),waveUpSound=_0x40ad02(0x1c2),menuMusicSound=_0x40ad02(0x126),readySound=_0x40ad02(0x1ab),tripleAttackSound=_0x40ad02(0x15f),captureSound='CAPTURE',shipCapturedSound=_0x40ad02(0x13e),dualShipSound=_0x40ad02(0x1b4),resultsMusicSound=_0x40ad02(0x165),hiScoreSound=_0x40ad02(0x1c8);let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isFiringModeSelectMode=![],selectedFiringMode='rapid',p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isPlayerSelectMode=![],isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',forceCenterShipNextReset=![],isShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],respawnTime=0x0,isInvincible=![],invincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0},leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0;csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isTouching=![],touchCurrentX=0x0,isDraggingShip=![],shipTouchOffsetX=0x0,lastTapTime=0x0;const TAP_DURATION_THRESHOLD=0xfa;let touchJustFiredSingle=![];const MIN_DRAG_DISTANCE_FOR_TAP_CANCEL=0xa,MIN_DRAG_TIME_FOR_TAP_CANCEL=0x50;let touchStartX=0x0,isTouchFiringActive=![];const shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage[_0x40ad02(0x108)]=_0x40ad02(0x146),beeImage['src']='Afbeeldingen/bee.png',bulletImage[_0x40ad02(0x108)]=_0x40ad02(0x1ca),bossGalagaImage[_0x40ad02(0x108)]=_0x40ad02(0x11d),butterflyImage[_0x40ad02(0x108)]=_0x40ad02(0x130),logoImage[_0x40ad02(0x108)]='Afbeeldingen/Logo.png',enemyBulletImage[_0x40ad02(0x108)]=_0x40ad02(0x106);const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2['src']=_0x40ad02(0x194),butterflyImage2[_0x40ad02(0x108)]=_0x40ad02(0x142),bossGalagaImage2[_0x40ad02(0x108)]=_0x40ad02(0x1a9);const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image[_0x40ad02(0x108)]=_0x40ad02(0x198),level5Image['src']=_0x40ad02(0x1b3),level10Image[_0x40ad02(0x108)]='Afbeeldingen/Level-10.png',level20Image[_0x40ad02(0x108)]=_0x40ad02(0x105),level30Image['src']='Afbeeldingen/Level-30.png',level50Image['src']='Afbeeldingen/Level-50.png';const BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0x9,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0x4,MAX_MAX_ATTACKING_ENEMIES=0xa,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.75,MAX_ENEMY_AIM_FACTOR=0.95,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,BASE_GRID_FIRE_INTERVAL=0xaf0,MIN_GRID_FIRE_INTERVAL=0x320,BASE_GRID_FIRE_PROBABILITY=0.04,MAX_GRID_FIRE_PROBABILITY=0.15,BASE_GRID_MAX_FIRING_ENEMIES=0x5,MAX_GRID_MAX_FIRING_ENEMIES=0xe,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART='100,\x20180,\x20255',GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED=_0x40ad02(0x100)+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,ENTRANCE_SQUADRON_FIRE_DELAY_MS=0x5dc,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START='rgba(180,\x20180,\x20255,\x200.1)',CAPTURE_BEAM_COLOR_END=_0x40ad02(0x157),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR=_0x40ad02(0x16e),CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT=_0x40ad02(0x13d),FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID='cyan',FLOATING_SCORE_COLOR_ACTIVE=_0x40ad02(0x149),FLOATING_SCORE_COLOR_CS_CHAIN='cyan',CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0xc,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=0x5,HIT_SPARK_SIZE=0x3,HIT_SPARK_COLOR=_0x40ad02(0x1ba),HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.8,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*2.2,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.1,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.1,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,AI_CAPTURE_PREVENTION_TIME_MS=0xbb8,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0xbb8,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':_0x40ad02(0x138),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x40ad02(0x138)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x40ad02(0x138)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x40ad02(0x138)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x40ad02(0x138)}]},{'pathId':'new_path_right','enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x40ad02(0x171)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x40ad02(0x171)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x40ad02(0x171)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x40ad02(0x171)}]},{'pathId':'boss_loop_left','enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x40ad02(0x131),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x40ad02(0x131),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x40ad02(0x131)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x40ad02(0x131)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x40ad02(0x131),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x40ad02(0x131)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x40ad02(0x131)}]},{'pathId':_0x40ad02(0x14d),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x40ad02(0x14d)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x40ad02(0x14d)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x40ad02(0x14d)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x40ad02(0x14d)}]},{'pathId':_0x40ad02(0x111),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x40ad02(0x111)}]},{'pathId':_0x40ad02(0xfb),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x40ad02(0xfb)}]}],[{'pathId':_0x40ad02(0x138),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x40ad02(0x138)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x40ad02(0x138)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x40ad02(0x138)}]},{'pathId':'new_path_right','enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x40ad02(0x171)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x40ad02(0x171)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x40ad02(0x171)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x40ad02(0x171)}]},{'pathId':_0x40ad02(0x131),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x40ad02(0x131),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x40ad02(0x131)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x40ad02(0x131)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x40ad02(0x131),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x40ad02(0x131)}]},{'pathId':_0x40ad02(0x14d),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x40ad02(0x14d)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x40ad02(0x14d)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x40ad02(0x14d)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x40ad02(0x14d)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x40ad02(0x14d)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x40ad02(0x14d)}]},{'pathId':_0x40ad02(0x111),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x40ad02(0x111)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x40ad02(0x111)}]},{'pathId':_0x40ad02(0xfb),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x40ad02(0xfb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':'mid_curve_right'}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=0x5,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function initializeDOMElements(){const _0x1708a0=_0x40ad02;starrySkyCanvas=document[_0x1708a0(0x18b)]('starrySkyCanvas'),starryCtx=starrySkyCanvas?.[_0x1708a0(0x161)]('2d'),retroGridCanvas=document[_0x1708a0(0x18b)]('retroGridCanvas'),retroGridCtx=retroGridCanvas?.[_0x1708a0(0x161)]('2d'),gameCanvas=document[_0x1708a0(0x18b)]('gameCanvas'),gameCtx=gameCanvas?.['getContext']('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console[_0x1708a0(0x172)](_0x1708a0(0x14c)),alert('Error\x20loading\x20critical\x20canvas\x20elements.'),document[_0x1708a0(0x1aa)][_0x1708a0(0x17a)]=_0x1708a0(0x17e),![];floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;try{!audioCtx&&(audioCtx=new(window['AudioContext']||window[(_0x1708a0(0x16d))])(),masterGainNode=audioCtx['createGain'](),masterGainNode['connect'](audioCtx[_0x1708a0(0x1a6)]),masterGainNode[_0x1708a0(0x14b)][_0x1708a0(0x10f)]=0.5,previousMasterGain=0.5);audioBuffers={},playingLoopSources={};let _0x13d171=0x0;const _0x44b967=Object['keys'](SOUND_PATHS)['length'];for(const _0x39a0e1 in SOUND_PATHS){loadAudioBuffer(SOUND_PATHS[_0x39a0e1],_0x522c68=>{audioBuffers[_0x39a0e1]=_0x522c68,_0x13d171++;if(_0x13d171===_0x44b967){}});}}catch(_0x134871){console[_0x1708a0(0x172)](_0x1708a0(0x163),_0x134871);}const _0x175415=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2,enemyBulletImage];return _0x175415[_0x1708a0(0x1bd)](_0x10f2f3=>{const _0x5e214a=_0x1708a0;if(_0x10f2f3)_0x10f2f3['onerror']=()=>console[_0x5e214a(0x172)](_0x5e214a(0x110)+_0x10f2f3[_0x5e214a(0x108)]);}),!![];}function scaleValue(_0x10175e,_0x5a2f1d,_0x468cf4){const _0x403737=_0x40ad02,_0x1147ab=Math[_0x403737(0x109)](0x1,Math['min'](_0x10175e,LEVEL_CAP_FOR_SCALING));if(_0x1147ab===0x1)return _0x5a2f1d;const _0x415ced=(_0x1147ab-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x5a2f1d+(_0x468cf4-_0x5a2f1d)*_0x415ced;}function setupInitialEventListeners(){const _0x19fa25=_0x40ad02;try{window['addEventListener'](_0x19fa25(0x193),handleGamepadConnected),window[_0x19fa25(0xff)](_0x19fa25(0x14e),handleGamepadDisconnected),window['addEventListener']('resize',resizeCanvases);}catch(_0xd12495){console[_0x19fa25(0x172)](_0x19fa25(0x14f),_0xd12495);}}function getCurrentGridSlotPosition(_0x5de46a,_0x6dd370,_0x10e117){const _0x308ad7=_0x40ad02;if(!gameCanvas||gameCanvas['width']===0x0||_0x5de46a<0x0||_0x6dd370<0x0)return{'x':gameCanvas?.[_0x308ad7(0x1b6)]/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0x158b9e=ENEMY_WIDTH;let _0x3ae14f=ENEMY_H_SPACING_FIXED,_0x50d1d7=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x2741f2=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0x3ae14f=ENEMY_H_SPACING_FIXED+_0x2741f2;const _0x36d0b8=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x50d1d7=ENEMY_V_SPACING+_0x36d0b8;}const _0xa94c35=GRID_COLS*_0x158b9e+(GRID_COLS-0x1)*_0x3ae14f,_0x5ba385=Math['round']((gameCanvas['width']-_0xa94c35)/0x2),_0x312ca6=_0x5ba385+currentGridOffsetX,_0xfa72a4=_0x312ca6+_0x6dd370*(_0x158b9e+_0x3ae14f),_0x2410af=(_0x158b9e-_0x10e117)/0x2,_0x220ab6=Math[_0x308ad7(0x169)](_0xfa72a4+_0x2410af),_0x20af2d=Math[_0x308ad7(0x169)](ENEMY_TOP_MARGIN+_0x5de46a*(ENEMY_HEIGHT+_0x50d1d7));return{'x':_0x220ab6,'y':_0x20af2d};}function loadAudioBuffer(_0x2c90c5,_0x6f231c){const _0x48060f=_0x40ad02;if(!audioCtx){console[_0x48060f(0x172)]('AudioContext\x20not\x20initialized.\x20Cannot\x20load\x20audio\x20buffer.');return;}const _0x2706cc=new XMLHttpRequest();_0x2706cc[_0x48060f(0xec)](_0x48060f(0x113),_0x2c90c5,!![]),_0x2706cc['responseType']=_0x48060f(0x17c),_0x2706cc['onload']=function(){const _0x310315=_0x48060f;audioCtx[_0x310315(0x15e)](_0x2706cc['response'],function(_0x376a3a){if(_0x6f231c)_0x6f231c(_0x376a3a);},function(_0x29af3d){const _0x422e50=_0x310315;console[_0x422e50(0x172)]('Error\x20decoding\x20audio\x20data\x20from\x20'+_0x2c90c5,_0x29af3d);});},_0x2706cc[_0x48060f(0x150)]=function(){const _0x3b1cd1=_0x48060f;console[_0x3b1cd1(0x172)](_0x3b1cd1(0x182)+_0x2c90c5);},_0x2706cc[_0x48060f(0x159)]();}function playSound(_0x3c09c0,_0x5d5131=![]){const _0x52f0bc=_0x40ad02;try{if(!audioCtx||!masterGainNode)return;audioCtx[_0x52f0bc(0x184)]===_0x52f0bc(0x10a)&&audioCtx[_0x52f0bc(0x19e)]()[_0x52f0bc(0x1b8)](_0x1d1285=>console['error'](_0x52f0bc(0x1a8),_0x1d1285));if(isPaused&&_0x3c09c0!==menuMusicSound&&_0x3c09c0!==resultsMusicSound)return;_0x3c09c0===menuMusicSound&&stopSound(resultsMusicSound);const _0x149192=audioBuffers[_0x3c09c0];if(!_0x149192)return;if(_0x5d5131&&playingLoopSources[_0x3c09c0]){try{playingLoopSources[_0x3c09c0][_0x52f0bc(0x167)]['stop'](),playingLoopSources[_0x3c09c0][_0x52f0bc(0x188)]['disconnect']();}catch(_0x26bfb8){}delete playingLoopSources[_0x3c09c0];}const _0x3f57a1=audioCtx[_0x52f0bc(0x147)]();_0x3f57a1['buffer']=_0x149192;const _0x1cfd56=audioCtx[_0x52f0bc(0x166)](),_0x3f36cf=soundVolumes[_0x3c09c0]!==undefined?soundVolumes[_0x3c09c0]:0x1;_0x1cfd56[_0x52f0bc(0x14b)]['value']=_0x3f36cf,_0x3f57a1[_0x52f0bc(0x152)](_0x1cfd56),_0x1cfd56[_0x52f0bc(0x152)](masterGainNode),_0x3f57a1['loop']=_0x5d5131,_0x3f57a1[_0x52f0bc(0xfc)](0x0),_0x5d5131&&(playingLoopSources[_0x3c09c0]={'source':_0x3f57a1,'gainNode':_0x1cfd56},_0x3c09c0===gridBackgroundSound&&(isGridSoundPlaying=!![]));}catch(_0x4dca3f){console[_0x52f0bc(0x172)]('Error\x20in\x20playSound\x20for\x20'+_0x3c09c0+':',_0x4dca3f);}}function stopSound(_0x5d2520){const _0x425aac=_0x40ad02;try{if(playingLoopSources[_0x5d2520]){const _0x2ddebb=playingLoopSources[_0x5d2520],_0x168211=_0x2ddebb[_0x425aac(0x167)],_0x363be0=_0x2ddebb[_0x425aac(0x188)];if(_0x168211)try{_0x168211['stop'](0x0);}catch(_0x3733b9){}if(_0x363be0)try{_0x363be0[_0x425aac(0x148)]();}catch(_0x5d3d67){}delete playingLoopSources[_0x5d2520],_0x5d2520===gridBackgroundSound&&(isGridSoundPlaying=![]);}}catch(_0x9b7dff){console[_0x425aac(0x172)](_0x425aac(0x11e)+_0x5d2520+':',_0x9b7dff);}}function checkCollision(_0x1c5672,_0x2525b4){const _0x22f0c4=_0x40ad02;if(!_0x1c5672||!_0x2525b4)return![];return _0x1c5672['x']<_0x2525b4['x']+_0x2525b4[_0x22f0c4(0x1b6)]&&_0x1c5672['x']+_0x1c5672[_0x22f0c4(0x1b6)]>_0x2525b4['x']&&_0x1c5672['y']<_0x2525b4['y']+_0x2525b4[_0x22f0c4(0x143)]&&_0x1c5672['y']+_0x1c5672['height']>_0x2525b4['y'];}function triggerFullscreen(){const _0x419516=_0x40ad02;if(!document['fullscreenElement']){const _0x4141b1=document[_0x419516(0x155)];if(_0x4141b1[_0x419516(0x120)])_0x4141b1[_0x419516(0x120)]()['catch'](_0x98be8d=>console['error'](_0x419516(0x195)+_0x98be8d[_0x419516(0x12e)]));else{if(_0x4141b1['mozRequestFullScreen'])_0x4141b1['mozRequestFullScreen']()[_0x419516(0x1b8)](_0x17d213=>console['error'](_0x419516(0x1a3)+_0x17d213[_0x419516(0x12e)]));else{if(_0x4141b1[_0x419516(0x15b)])_0x4141b1[_0x419516(0x15b)]()[_0x419516(0x1b8)](_0x401839=>console[_0x419516(0x172)]('Fullscreen\x20error\x20(WebKit):\x20'+_0x401839[_0x419516(0x12e)]));else _0x4141b1['msRequestFullscreen']&&_0x4141b1['msRequestFullscreen']()[_0x419516(0x1b8)](_0x4fb1a9=>console['error'](_0x419516(0x11f)+_0x4fb1a9['message']));}}}}function createStar(){const _0x9da655=_0x40ad02;if(!starrySkyCanvas||starrySkyCanvas[_0x9da655(0x1b6)]===0x0)return null;return{'x':Math['random']()*starrySkyCanvas[_0x9da655(0x1b6)],'y':Math[_0x9da655(0x16c)]()*starrySkyCanvas['height'],'radius':Math[_0x9da655(0x16c)]()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math[_0x9da655(0x16c)]()*0.8+0.2,'alphaChange':(Math[_0x9da655(0x16c)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math['random']()*0.5+0.5)};}function createStars(){const _0x1a8d0f=_0x40ad02;stars=[];if(starrySkyCanvas?.[_0x1a8d0f(0x1b6)]>0x0&&starrySkyCanvas?.[_0x1a8d0f(0x143)]>0x0)for(let _0x3cd399=0x0;_0x3cd399<NUM_STARS;_0x3cd399++){const _0x5a0993=createStar();if(_0x5a0993)stars[_0x1a8d0f(0x192)](_0x5a0993);}}function drawStars(){const _0x2e8031=_0x40ad02;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas[_0x2e8031(0x1b6)]===0x0||starrySkyCanvas[_0x2e8031(0x143)]===0x0)return;const _0x1b43af=starrySkyCanvas[_0x2e8031(0x1b6)],_0xdffbe1=starrySkyCanvas[_0x2e8031(0x143)];starryCtx[_0x2e8031(0x125)](0x0,0x0,_0x1b43af,_0xdffbe1);const _0xd3a521=Math[_0x2e8031(0x169)](_0xdffbe1*GRID_HORIZON_Y_FACTOR),_0x19fd99=_0xdffbe1-_0xd3a521,_0x155302=Math['max'](0x0,_0xd3a521-_0x19fd99*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x584a3d=_0xd3a521,_0x1e14c9=Math['max'](0x1,_0x584a3d-_0x155302);stars[_0x2e8031(0x1bd)](_0x36fb59=>{const _0x3c398e=_0x2e8031,_0xcaad44=(_0x36fb59[_0x3c398e(0xef)]-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x562941=BASE_PARALLAX_SPEED+_0xcaad44*PARALLAX_SPEED_FACTOR;!isPaused&&(_0x36fb59['y']+=_0x562941);_0x36fb59['y']>_0xdffbe1+_0x36fb59[_0x3c398e(0xef)]&&(_0x36fb59['y']=-_0x36fb59[_0x3c398e(0xef)]*0x2,_0x36fb59['x']=Math[_0x3c398e(0x16c)]()*_0x1b43af);!isPaused&&(_0x36fb59[_0x3c398e(0x15c)]+=_0x36fb59['alphaChange'],(_0x36fb59[_0x3c398e(0x15c)]<=0.1||_0x36fb59[_0x3c398e(0x15c)]>=0x1)&&(_0x36fb59[_0x3c398e(0x141)]*=-0x1,_0x36fb59['alpha']=Math[_0x3c398e(0x109)](0.1,Math[_0x3c398e(0x1bb)](0x1,_0x36fb59[_0x3c398e(0x15c)]))));let _0x5e5d15=_0x36fb59['alpha'];_0x155302>=0x0&&_0x36fb59['y']>_0x155302&&(_0x36fb59['y']>=_0xd3a521?_0x5e5d15=0x0:_0x5e5d15*=0x1-Math['min'](0x1,Math['max'](0x0,(_0x36fb59['y']-_0x155302)/_0x1e14c9))),_0x5e5d15=Math[_0x3c398e(0x109)](0x0,Math[_0x3c398e(0x1bb)](0x1,_0x5e5d15)),_0x5e5d15>0.01&&(starryCtx['beginPath'](),starryCtx[_0x3c398e(0x112)](Math[_0x3c398e(0x169)](_0x36fb59['x']),Math['round'](_0x36fb59['y']),_0x36fb59['radius'],0x0,Math['PI']*0x2),starryCtx[_0x3c398e(0x136)]=_0x3c398e(0x1c5)+_0x5e5d15[_0x3c398e(0x122)](0x3)+')',starryCtx[_0x3c398e(0x19b)]());});}catch(_0x5f858f){console[_0x2e8031(0x172)]('Error\x20in\x20drawStars:',_0x5f858f);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x4f46f5=_0x40ad02;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas['width']===0x0||retroGridCanvas[_0x4f46f5(0x143)]===0x0)return;!isPaused&&(gridOffsetY-=GRID_SPEED);const _0x5009e0=retroGridCanvas[_0x4f46f5(0x1b6)],_0x36ff13=retroGridCanvas[_0x4f46f5(0x143)];retroGridCtx[_0x4f46f5(0x125)](0x0,0x0,_0x5009e0,_0x36ff13);const _0x562eac=Math[_0x4f46f5(0x169)](_0x36ff13*GRID_HORIZON_Y_FACTOR),_0x174e95=_0x5009e0/0x2,_0x37a7c2=_0x36ff13-_0x562eac;retroGridCtx[_0x4f46f5(0x13c)]=GRID_LINE_WIDTH;const _0x6f4c24=_0x5009e0*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0x4cc95c=_0x174e95-_0x6f4c24/0x2,_0x4f9c95=_0x174e95+_0x6f4c24/0x2,_0x584452=_0x562eac+_0x37a7c2*0.1,_0x8fdc5d=_0x36ff13,_0x5c1581=Math[_0x4f46f5(0x109)](0x1,_0x8fdc5d-_0x584452);retroGridCtx[_0x4f46f5(0x183)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x4f46f5(0x1a0)](),retroGridCtx[_0x4f46f5(0x13f)](_0x4cc95c,_0x562eac),retroGridCtx[_0x4f46f5(0xf4)](_0x4f9c95,_0x562eac),retroGridCtx[_0x4f46f5(0xfa)]();let _0x52f5ea=gridOffsetY%GRID_BASE_SPACING;_0x52f5ea>0x0&&(_0x52f5ea-=GRID_BASE_SPACING);let _0x493473=_0x562eac-_0x52f5ea;if(_0x493473<=_0x562eac)_0x493473+=GRID_BASE_SPACING;while(_0x493473<_0x36ff13+GRID_BASE_SPACING){let _0x1448dc=Math[_0x4f46f5(0x109)](0x0,Math['min'](0x1,(_0x493473-_0x562eac)/_0x37a7c2));if(_0x493473>_0x562eac&&_0x493473<=_0x36ff13+GRID_LINE_WIDTH*0x2){let _0x4b3a30;if(_0x493473<=_0x584452)_0x4b3a30=GRID_MIN_ALPHA;else{if(_0x493473>=_0x8fdc5d)_0x4b3a30=GRID_BASE_ALPHA;else{const _0x251cf1=(_0x493473-_0x584452)/_0x5c1581;_0x4b3a30=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x251cf1;}}_0x4b3a30=Math['max'](0x0,Math['min'](GRID_BASE_ALPHA,_0x4b3a30)),_0x4b3a30>0.01&&(retroGridCtx[_0x4f46f5(0x183)]=_0x4f46f5(0x100)+GRID_RGB_PART+',\x20'+_0x4b3a30[_0x4f46f5(0x122)](0x3)+')',retroGridCtx[_0x4f46f5(0x1a0)](),retroGridCtx['moveTo'](_0x4cc95c,Math[_0x4f46f5(0x169)](_0x493473)),retroGridCtx[_0x4f46f5(0xf4)](_0x4f9c95,Math['round'](_0x493473)),retroGridCtx[_0x4f46f5(0xfa)]());}let _0x1c8bf2=GRID_BASE_SPACING*Math[_0x4f46f5(0xf0)](0x1+_0x1448dc*1.5,GRID_SPACING_POWER);_0x493473+=Math[_0x4f46f5(0x109)](0x1,_0x1c8bf2);}retroGridCtx[_0x4f46f5(0x183)]=GRID_LINE_COLOR_FIXED,retroGridCtx['beginPath']();const _0x3398e5=Math[_0x4f46f5(0x154)](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x2096ee=_0x5009e0*GRID_HORIZON_SPREAD_FACTOR,_0x172edd=_0x5009e0*GRID_BOTTOM_SPREAD_FACTOR;for(let _0xd21e79=0x0;_0xd21e79<=_0x3398e5;_0xd21e79++){let _0x3b3b07=Math[_0x4f46f5(0xf0)](_0xd21e79/_0x3398e5,GRID_PERSPECTIVE_POWER),_0x4ef3f3=_0x174e95+_0x3b3b07*(_0x2096ee/0x2),_0x322032=_0x174e95-_0x3b3b07*(_0x2096ee/0x2),_0x5f3616=_0x174e95+_0x3b3b07*(_0x172edd/0x2),_0xa7f06b=_0x174e95-_0x3b3b07*(_0x172edd/0x2);retroGridCtx[_0x4f46f5(0x13f)](_0x4ef3f3,_0x562eac),retroGridCtx['lineTo'](_0x5f3616,_0x36ff13),_0xd21e79>0x0&&(retroGridCtx[_0x4f46f5(0x13f)](_0x322032,_0x562eac),retroGridCtx[_0x4f46f5(0xf4)](_0xa7f06b,_0x36ff13));}retroGridCtx[_0x4f46f5(0xfa)]();}catch(_0x22cb11){console[_0x4f46f5(0x172)](_0x4f46f5(0x139),_0x22cb11);}}function _0x46eb(){const _0x38d320=['Afbeeldingen/butterfly.png','boss_loop_left','targetX','cursor','Geluiden/Bees-hit.mp3','metaKey','fillStyle','4387427wLuHCl','new_path_left','Error\x20in\x20drawRetroGrid:','Enter','120784MfjaLG','lineWidth','bold\x2012px\x20\x27Press\x20Start\x202P\x27','SHIP_CAPTURED','moveTo','includes','alphaChange','Afbeeldingen/butterfly-2.png','height','Error\x20in\x20handleGamepadDisconnected:','CS3_DiveLoopR_Sharp','Afbeeldingen/spaceship.png','createBufferSource','disconnect','red','shoot','gain','FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!','boss_loop_right','gamepaddisconnected','Error\x20setting\x20up\x20initial\x20event\x20listeners:','onerror','sin','connect','Numpad4','floor','documentElement','index','rgba(220,\x20220,\x20255,\x200.6)','Geluiden/Boss-hit1.mp3','send','Error\x20handling\x20game\x20resize\x20specifics:','webkitRequestFullscreen','alpha','code','decodeAudioData','TRIPLE_ATTACK','map','getContext','number','Error\x20initializing\x20Web\x20Audio:','Geluiden/firing.mp3','RESULTS_MUSIC','createGain','source','Error\x20in\x20resizeCanvases:','round','ArrowRight','now','random','webkitAudioContext','rgba(255,\x20150,\x20150,\x200.55)','undefined','Geluiden/Fire-enemy.mp3','new_path_right','error','preventDefault','GAME_OVER','returning','enemy1','Normal\x20Wave\x20Path\x20','\x20empty\x20after\x20validation!\x20Adding\x20fallback.','buttons','innerHTML','ENTRANCE','arraybuffer','targetGridY','<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>','CS_HorizontalFlyByL','1376058LUavci','gridRow','XMLHttpRequest\x20error\x20loading\x20audio\x20file:\x20','strokeStyle','state','cos','rapid','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','gainNode','KeyI','CS_LoopAttack_TL','getElementById','Geluiden/CS-Stage-Perfect-.mp3','atan2','ArrowDown','Geluiden/coin.mp3','default','CS\x20Path\x20','push','gamepadconnected','Afbeeldingen/bee-2.png','Fullscreen\x20error:\x20','parse','BUTTERFLY_DIVE','Afbeeldingen/Level-1.png','\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.','GRID_BACKGROUND','fill','Geluiden/Enemy2.mp3','Geluiden/ready.mp3','resume','innerWidth','beginPath','COIN','type','Fullscreen\x20error\x20(FF):\x20','targetGridX','ctrlKey','destination','ArrowLeft','Error\x20resuming\x20AudioContext:','Afbeeldingen/bossGalaga-2.png','body','READY','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','enemy2','10XZgmWo','CS_LoopAttack_TR','Geluiden/LevelUp.mp3','pressed','179046SkpQcG','Afbeeldingen/Level-5.png','DUAL_SHIP','127673WZWsVD','width','currentTime','catch','axes','rgba(255,\x20255,\x20180,\x200.9)','min','Error\x20in\x20handleGamepadConnected:','forEach','Space','length','5jYcuQl','4944bOUpPp','WAVE_UP','ArrowUp','START_GAME','rgba(255,\x20255,\x20255,\x20','469pgwTbc','back','HI_SCORE','Geluiden/Entree.mp3','Afbeeldingen/bullet.png','open','Geluiden/kill.mp3','shiftKey','radius','pow','CS_LoopAttack_BR','Geluiden/Boss-hit2.mp3','filter','lineTo','CS_CLEAR','ENEMY_SHOOT','6STAHtH','KeyA','BUTTERFLY_HIT','stroke','mid_curve_right','start','right','gamepad','addEventListener','rgba(','Geluiden/Butterfly-hit.mp3','Error\x20in\x20saveHighScore:','Geluiden/Capture.mp3','KeyW','Afbeeldingen/Level-20.png','Afbeeldingen/bullet-enemy.png','altKey','src','max','suspended','KeyJ','slice','Error\x20in\x20loadHighScore:','pause','value','Error\x20loading\x20image:\x20','mid_curve_left','arc','GET','Geluiden/flying.mp3','KeyD','function','Error\x20in\x20handleKeyUp:','Numpad6','Geluiden/gameover.mp3','Numpad0','Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20','Escape','Afbeeldingen/bossGalaga.png','Error\x20in\x20stopSound\x20for\x20','Fullscreen\x20error\x20(MS):\x20','requestFullscreen','setTargetAtTime','toFixed','Geluiden/Extra-Leven.mp3','LOST_LIFE','clearRect','MENU_MUSIC','in_grid','key','LEVEL_UP','moving_to_grid','169060sbOPxH','KeyL','EXPLOSION','message','Geluiden/Achtergrond-grid.mp3'];_0x46eb=function(){return _0x38d320;};return _0x46eb();}function calculateBezierPoint(_0x14e721,_0x508c79,_0x3e037e,_0x397931,_0x1d6a81){const _0x5d4570=0x1-_0x14e721,_0x5dabfe=_0x14e721*_0x14e721,_0x51fc34=_0x5d4570*_0x5d4570,_0x20b07b=_0x51fc34*_0x5d4570,_0x19ee2b=_0x5dabfe*_0x14e721;let _0x4e7022=_0x20b07b*_0x508c79;return _0x4e7022+=0x3*_0x51fc34*_0x14e721*_0x3e037e,_0x4e7022+=0x3*_0x5d4570*_0x5dabfe*_0x397931,_0x4e7022+=_0x19ee2b*_0x1d6a81,_0x4e7022;}function defineNormalWaveEntrancePaths(){const _0x1943f8=_0x40ad02;normalWaveEntrancePaths={};const _0x4c8a77=gameCanvas?.['width'],_0x4ea2c8=gameCanvas?.[_0x1943f8(0x143)];if(!_0x4c8a77||!_0x4ea2c8||_0x4c8a77===0x0){console[_0x1943f8(0x172)](_0x1943f8(0x1ac));return;}const _0x5085ef=_0x4c8a77/0x320,_0x29bb3a=_0x4ea2c8/0x258,_0x24e8ca=-Math[_0x1943f8(0x109)](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x53ed5a=_0x4c8a77/0x2,_0x3ed2f3=-0x19,_0x378497=ENEMY_WIDTH,_0x4e5f88=ENEMY_H_SPACING_FIXED,_0xdbd855=GRID_COLS*_0x378497+(GRID_COLS-0x1)*_0x4e5f88,_0x51aece=Math[_0x1943f8(0x169)]((_0x4c8a77-_0xdbd855)/0x2),_0x5d65d4=_0x51aece+0x4*(_0x378497+_0x4e5f88)+_0x378497/0x2,_0x4512cf=_0x51aece+0x5*(_0x378497+_0x4e5f88)+_0x378497/0x2,_0x542092=(_0x5d65d4+_0x4512cf)/0x2+_0x3ed2f3,_0x9d4a3e=Math['round'](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x5b06bc=_0x9d4a3e+0x3c*_0x29bb3a,_0xf542b2=[{'p0':{'x':0x50/0x190*0x320*_0x5085ef+_0x3ed2f3,'y':_0x24e8ca},'p1':{'x':0x1b8/0x190*0x320*_0x5085ef+_0x3ed2f3,'y':0x8c/0x12c*0x258*_0x29bb3a},'p2':{'x':0x104/0x190*0x320*_0x5085ef+_0x3ed2f3,'y':0x154/0x12c*0x258*_0x29bb3a},'p3':{'x':_0x542092,'y':_0x5b06bc}}];normalWaveEntrancePaths[_0x1943f8(0x138)]=_0xf542b2;const _0x3b0521=_0xf542b2['map'](_0x330f7e=>({'p0':{'x':_0x4c8a77-(_0x330f7e['p0']['x']-_0x3ed2f3)+_0x3ed2f3,'y':_0x330f7e['p0']['y']},'p1':{'x':_0x4c8a77-(_0x330f7e['p1']['x']-_0x3ed2f3)+_0x3ed2f3,'y':_0x330f7e['p1']['y']},'p2':{'x':_0x4c8a77-(_0x330f7e['p2']['x']-_0x3ed2f3)+_0x3ed2f3,'y':_0x330f7e['p2']['y']},'p3':{'x':_0x542092,'y':_0x330f7e['p3']['y']}}));normalWaveEntrancePaths[_0x1943f8(0x171)]=_0x3b0521;const _0x119e66=_0x2d67bf=>{const _0xd20cd8=_0x1943f8,_0x4e4a40=_0x2d67bf?_0xd20cd8(0x14d):_0xd20cd8(0x131),_0x1cf235=_0x3c1813=>_0x2d67bf?_0x4c8a77-_0x3c1813:_0x3c1813,_0x3280c5=0x82*_0x29bb3a,_0x5723ee=0x50*_0x5085ef,_0x2fe7b5=0x12c*_0x5085ef,_0x293b1e=0x12c*_0x29bb3a,_0x11c63f=_0x2fe7b5+_0x5723ee,_0xc96c1d=_0x293b1e,_0x1ac227=_0x1cf235(-0x64*_0x5085ef),_0x30fb72=(0x15e+_0x3280c5)*_0x29bb3a,_0x2ef3db=ENEMY_TOP_MARGIN-0x14,_0x1504f1={'x':_0x1ac227,'y':_0x30fb72},_0x112a5d={'x':_0x1cf235(_0x11c63f),'y':_0xc96c1d},_0x410801={'x':_0x1cf235(_0x2fe7b5),'y':_0x293b1e-_0x5723ee},_0x746981={'x':_0x1cf235(_0x2fe7b5-_0x5723ee),'y':_0x293b1e},_0xda7b00={'x':_0x1cf235(_0x2fe7b5),'y':_0x293b1e+_0x5723ee},_0x277d0f={'x':_0x112a5d['x'],'y':_0x2ef3db},_0x377217=0.25,_0x3b7f4f=Math[_0xd20cd8(0x18d)](_0x112a5d['y']-_0x30fb72,_0x112a5d['x']-_0x1ac227),_0x2ebd11={'x':_0x112a5d['x']-Math[_0xd20cd8(0x185)](_0x3b7f4f)*_0x5723ee*_0x377217,'y':_0x112a5d['y']-Math[_0xd20cd8(0x151)](_0x3b7f4f)*_0x5723ee*_0x377217},_0x5fe049={'x':(_0x1504f1['x']+_0x2ebd11['x'])/0x2,'y':(_0x1504f1['y']+_0x2ebd11['y'])/0x2},_0x1e796b={'x':_0x112a5d['x'],'y':(_0x112a5d['y']+_0x277d0f['y'])/0x2},_0x26adb7=0.552284749831,_0x58c00a=_0x5723ee*_0x26adb7,_0x5dea26=_0x5723ee*_0x26adb7;let _0x3077fe=[];_0x3077fe['push']({'p0':_0x1504f1,'p1':{'x':_0x1504f1['x']+(_0x5fe049['x']-_0x1504f1['x'])*0.33,'y':_0x1504f1['y']+(_0x5fe049['y']-_0x1504f1['y'])*0.33},'p2':{'x':_0x1504f1['x']+(_0x5fe049['x']-_0x1504f1['x'])*0.66,'y':_0x1504f1['y']+(_0x5fe049['y']-_0x1504f1['y'])*0.66},'p3':_0x5fe049}),_0x3077fe[_0xd20cd8(0x192)]({'p0':_0x5fe049,'p1':{'x':_0x5fe049['x']+(_0x2ebd11['x']-_0x5fe049['x'])*0.33,'y':_0x5fe049['y']+(_0x2ebd11['y']-_0x5fe049['y'])*0.33},'p2':{'x':_0x5fe049['x']+(_0x2ebd11['x']-_0x5fe049['x'])*0.66,'y':_0x5fe049['y']+(_0x2ebd11['y']-_0x5fe049['y'])*0.66},'p3':_0x2ebd11});const _0x564ab3={'x':_0x2ebd11['x']+(_0x2ebd11['x']-_0x5fe049['x'])*0.3,'y':_0x2ebd11['y']+(_0x2ebd11['y']-_0x5fe049['y'])*0.3},_0x118e02={'x':_0x1cf235(_0x2fe7b5+_0x58c00a),'y':_0x410801['y']};return _0x3077fe[_0xd20cd8(0x192)]({'p0':_0x2ebd11,'p1':_0x564ab3,'p2':_0x118e02,'p3':_0x410801}),_0x3077fe[_0xd20cd8(0x192)]({'p0':_0x410801,'p1':{'x':_0x1cf235(_0x2fe7b5-_0x58c00a),'y':_0x410801['y']},'p2':{'x':_0x746981['x'],'y':_0x746981['y']-_0x5dea26},'p3':_0x746981}),_0x3077fe[_0xd20cd8(0x192)]({'p0':_0x746981,'p1':{'x':_0x746981['x'],'y':_0x746981['y']+_0x5dea26},'p2':{'x':_0x1cf235(_0x2fe7b5-_0x58c00a),'y':_0xda7b00['y']},'p3':_0xda7b00}),_0x3077fe[_0xd20cd8(0x192)]({'p0':_0xda7b00,'p1':{'x':_0x1cf235(_0x2fe7b5+_0x58c00a),'y':_0xda7b00['y']},'p2':{'x':_0x112a5d['x'],'y':_0x112a5d['y']+_0x5dea26},'p3':_0x112a5d}),_0x3077fe[_0xd20cd8(0x192)]({'p0':_0x112a5d,'p1':{'x':_0x112a5d['x']+(_0x1e796b['x']-_0x112a5d['x'])*0.33,'y':_0x112a5d['y']+(_0x1e796b['y']-_0x112a5d['y'])*0.33},'p2':{'x':_0x112a5d['x']+(_0x1e796b['x']-_0x112a5d['x'])*0.66,'y':_0x112a5d['y']+(_0x1e796b['y']-_0x112a5d['y'])*0.66},'p3':_0x1e796b}),_0x3077fe[_0xd20cd8(0x192)]({'p0':_0x1e796b,'p1':{'x':_0x1e796b['x']+(_0x277d0f['x']-_0x1e796b['x'])*0.33,'y':_0x1e796b['y']+(_0x277d0f['y']-_0x1e796b['y'])*0.33},'p2':{'x':_0x1e796b['x']+(_0x277d0f['x']-_0x1e796b['x'])*0.66,'y':_0x1e796b['y']+(_0x277d0f['y']-_0x1e796b['y'])*0.66},'p3':_0x277d0f}),_0x3077fe;};normalWaveEntrancePaths[_0x1943f8(0x131)]=_0x119e66(![]),normalWaveEntrancePaths['boss_loop_right']=_0x119e66(!![]);const _0xded672=0x2ee,_0x3142a6=0x15e*_0x29bb3a,_0x24a2a1={'x':_0x53ed5a,'y':_0x24e8ca},_0x314508={'x':(_0x53ed5a+(0x2ee-0x190)*(0x2/0x3))*_0x5085ef,'y':(-0x32+(_0xded672- -0x32)*(0x2/0x3))*_0x29bb3a},_0x4441bb={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x5085ef,'y':(_0x3142a6+(_0xded672-_0x3142a6)*(0x1/0x3))*_0x29bb3a},_0x4e7482={'x':_0x53ed5a,'y':_0x3142a6};normalWaveEntrancePaths[_0x1943f8(0xfb)]=[{'p0':_0x24a2a1,'p1':_0x314508,'p2':_0x4441bb,'p3':_0x4e7482}];const _0x1ac04d={'x':_0x53ed5a,'y':_0x24e8ca},_0x1f593d={'x':_0x4c8a77-_0x314508['x'],'y':_0x314508['y']},_0x3b9c48={'x':_0x4c8a77-_0x4441bb['x'],'y':_0x4441bb['y']},_0x2c8b5e={'x':_0x53ed5a,'y':_0x3142a6};normalWaveEntrancePaths[_0x1943f8(0x111)]=[{'p0':_0x1ac04d,'p1':_0x1f593d,'p2':_0x3b9c48,'p3':_0x2c8b5e}];for(const _0x3f98c3 in normalWaveEntrancePaths){if(!Array['isArray'](normalWaveEntrancePaths[_0x3f98c3])){console['error']('Normal\x20Wave\x20Path\x20'+_0x3f98c3+'\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.'),normalWaveEntrancePaths[_0x3f98c3]=[{'p0':{'x':_0x4c8a77/0x2,'y':_0x24e8ca},'p1':{'x':_0x4c8a77/0x2,'y':_0x4ea2c8/0x3},'p2':{'x':_0x4c8a77/0x2,'y':_0x4ea2c8*0x2/0x3},'p3':{'x':_0x4c8a77/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0x3f98c3]=normalWaveEntrancePaths[_0x3f98c3]['filter'](_0x4d43be=>_0x4d43be?.['p0']&&_0x4d43be?.['p1']&&_0x4d43be?.['p2']&&_0x4d43be?.['p3']&&typeof _0x4d43be['p0']['x']===_0x1943f8(0x162)&&typeof _0x4d43be['p0']['y']===_0x1943f8(0x162)&&typeof _0x4d43be['p1']['x']==='number'&&typeof _0x4d43be['p1']['y']==='number'&&typeof _0x4d43be['p2']['x']===_0x1943f8(0x162)&&typeof _0x4d43be['p2']['y']===_0x1943f8(0x162)&&typeof _0x4d43be['p3']['x']==='number'&&typeof _0x4d43be['p3']['y']===_0x1943f8(0x162)&&!isNaN(_0x4d43be['p0']['x']+_0x4d43be['p0']['y']+_0x4d43be['p1']['x']+_0x4d43be['p1']['y']+_0x4d43be['p2']['x']+_0x4d43be['p2']['y']+_0x4d43be['p3']['x']+_0x4d43be['p3']['y'])),normalWaveEntrancePaths[_0x3f98c3][_0x1943f8(0x1bf)]===0x0&&(console['error'](_0x1943f8(0x177)+_0x3f98c3+_0x1943f8(0x199)),normalWaveEntrancePaths[_0x3f98c3]=[{'p0':{'x':_0x4c8a77/0x2,'y':_0x24e8ca},'p1':{'x':_0x4c8a77/0x2,'y':_0x4ea2c8/0x3},'p2':{'x':_0x4c8a77/0x2,'y':_0x4ea2c8*0x2/0x3},'p3':{'x':_0x4c8a77/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0x5e7229=_0x40ad02;challengingStagePaths={};const _0x3cfdec=gameCanvas?.['width'],_0x2251e4=gameCanvas?.['height'];if(!_0x3cfdec||!_0x2251e4||_0x3cfdec===0x0){console[_0x5e7229(0x172)](_0x5e7229(0x187));return;}const _0x304737=ENEMY_WIDTH,_0x213bd4=ENEMY_HEIGHT,_0x1f4487=-_0x213bd4*1.5,_0x395eb2=_0x2251e4+_0x213bd4*0x2,_0xc82b4f=-_0x304737*1.5,_0x1684b5=_0x3cfdec+_0x304737*1.5,_0x80a08c=_0x3cfdec/0x2,_0x17b5ea=_0x2251e4/0x2,_0x225a39=-0x1c,_0x3a8eec=(_0x7603bc,_0x5d9469)=>{const _0x31aaab=_0x5e7229;return _0x7603bc[_0x31aaab(0x160)](_0x557fd6=>{const _0x11e6d1=_0x31aaab,_0x466806=JSON[_0x11e6d1(0x196)](JSON['stringify'](_0x557fd6));if(_0x466806['p0']&&typeof _0x466806['p0']['x']===_0x11e6d1(0x162))_0x466806['p0']['x']+=_0x5d9469;if(_0x466806['p1']&&typeof _0x466806['p1']['x']==='number')_0x466806['p1']['x']+=_0x5d9469;if(_0x466806['p2']&&typeof _0x466806['p2']['x']===_0x11e6d1(0x162))_0x466806['p2']['x']+=_0x5d9469;return _0x466806['p3']&&typeof _0x466806['p3']['x']===_0x11e6d1(0x162)&&_0x466806['p3']['x']!==_0xc82b4f&&_0x466806['p3']['x']!==_0x1684b5&&(_0x466806['p3']['x']+=_0x5d9469),_0x466806;});},_0x2057ab=37.8/0x320*0.3,_0x4a510a=0.5-_0x2057ab,_0x3a0ae7=0x1c2/0x258,_0x566f53=0.49,_0x4fb8d5=0x258/0x258,_0x26ddd3=0.48,_0x3a1b60=0x12c/0x258,_0x8460dd=_0x3cfdec*_0x4a510a,_0x50e825=_0x2251e4*_0x3a0ae7,_0x448e5d=_0x3cfdec*_0x566f53,_0x3a42fb=_0x2251e4*Math[_0x5e7229(0x1bb)](0x1,_0x4fb8d5),_0xe7579e=_0x3cfdec*_0x26ddd3,_0xceaae2=_0x2251e4*_0x3a1b60,_0x317350=_0xc82b4f,_0x132b7b=_0x1f4487,_0x416183={'x':_0x8460dd,'y':_0x1f4487},_0xfdc130={'x':_0x8460dd,'y':_0x50e825},_0x226d8e={'x':_0x8460dd,'y':_0x1f4487+(_0x50e825-_0x1f4487)*0.33},_0x4e52a0={'x':_0x8460dd,'y':_0x1f4487+(_0x50e825-_0x1f4487)*0.66},_0x11517a=_0xfdc130,_0x29cdf7={'x':_0x448e5d,'y':_0x3a42fb},_0x1f6627={'x':_0xe7579e,'y':_0xceaae2},_0x389f5c={'x':_0x317350,'y':_0x132b7b},_0x5808af=[{'p0':_0x416183,'p1':_0x226d8e,'p2':_0x4e52a0,'p3':_0xfdc130},{'p0':_0x11517a,'p1':_0x29cdf7,'p2':_0x1f6627,'p3':_0x389f5c}],_0x21ee0d=_0x5808af['map'](_0x108b2f=>({'p0':{'x':_0x3cfdec-_0x108b2f['p0']['x'],'y':_0x108b2f['p0']['y']},'p1':{'x':_0x3cfdec-_0x108b2f['p1']['x'],'y':_0x108b2f['p1']['y']},'p2':{'x':_0x3cfdec-_0x108b2f['p2']['x'],'y':_0x108b2f['p2']['y']},'p3':{'x':_0x108b2f['p3']['x']===_0xc82b4f?_0x1684b5:_0x3cfdec-_0x108b2f['p3']['x'],'y':_0x108b2f['p3']['y']}}));challengingStagePaths['CS3_DiveLoopL_Sharp']=_0x3a8eec(_0x5808af,_0x225a39),challengingStagePaths[_0x5e7229(0x145)]=_0x3a8eec(_0x21ee0d,_0x225a39);const _0x302763=_0x2251e4*0.7,_0x1b9d67=_0x2251e4*0.03,_0x42c4eb=_0x3cfdec*0.15;challengingStagePaths[_0x5e7229(0x17f)]=[{'p0':{'x':_0xc82b4f,'y':_0x302763},'p1':{'x':_0xc82b4f+_0x42c4eb,'y':_0x302763-_0x1b9d67},'p2':{'x':_0x1684b5-_0x42c4eb,'y':_0x302763+_0x1b9d67},'p3':{'x':_0x1684b5,'y':_0x302763}}],challengingStagePaths['CS_HorizontalFlyByR']=[{'p0':{'x':_0x1684b5,'y':_0x302763},'p1':{'x':_0x1684b5-_0x42c4eb,'y':_0x302763-_0x1b9d67},'p2':{'x':_0xc82b4f+_0x42c4eb,'y':_0x302763+_0x1b9d67},'p3':{'x':_0xc82b4f,'y':_0x302763}}];const _0x4154f5=_0x2251e4*0.8,_0x29ef51=_0x2251e4*0.55,_0x181d4c=_0x2251e4*0.15;challengingStagePaths[_0x5e7229(0x18a)]=[{'p0':{'x':_0x3cfdec*0.1,'y':_0x1f4487},'p1':{'x':_0x3cfdec*0.2,'y':_0x2251e4*0.2},'p2':{'x':_0x3cfdec*0.6,'y':_0x4154f5},'p3':{'x':_0x3cfdec*0.7,'y':_0x4154f5}},{'p0':{'x':_0x3cfdec*0.7,'y':_0x4154f5},'p1':{'x':_0x3cfdec*0.8,'y':_0x4154f5},'p2':{'x':_0x3cfdec*0.8,'y':_0x29ef51},'p3':{'x':_0x3cfdec*0.7,'y':_0x29ef51}},{'p0':{'x':_0x3cfdec*0.7,'y':_0x29ef51},'p1':{'x':_0x3cfdec*0.6,'y':_0x29ef51},'p2':{'x':_0x1684b5,'y':_0x181d4c},'p3':{'x':_0x1684b5,'y':_0x181d4c+_0x2251e4*0.1}}],challengingStagePaths[_0x5e7229(0x1af)]=[{'p0':{'x':_0x3cfdec*0.9,'y':_0x1f4487},'p1':{'x':_0x3cfdec*0.8,'y':_0x2251e4*0.2},'p2':{'x':_0x3cfdec*0.4,'y':_0x4154f5},'p3':{'x':_0x3cfdec*0.3,'y':_0x4154f5}},{'p0':{'x':_0x3cfdec*0.3,'y':_0x4154f5},'p1':{'x':_0x3cfdec*0.2,'y':_0x4154f5},'p2':{'x':_0x3cfdec*0.2,'y':_0x29ef51},'p3':{'x':_0x3cfdec*0.3,'y':_0x29ef51}},{'p0':{'x':_0x3cfdec*0.3,'y':_0x29ef51},'p1':{'x':_0x3cfdec*0.4,'y':_0x29ef51},'p2':{'x':_0xc82b4f,'y':_0x181d4c},'p3':{'x':_0xc82b4f,'y':_0x181d4c+_0x2251e4*0.1}}],challengingStagePaths['CS_LoopAttack_BL']=[{'p0':{'x':_0xc82b4f,'y':_0x2251e4*0.6},'p1':{'x':_0x3cfdec*0.1,'y':_0x2251e4*0.4},'p2':{'x':_0x3cfdec*0.6,'y':_0x2251e4*0.2},'p3':{'x':_0x80a08c,'y':_0x2251e4*0.3}},{'p0':{'x':_0x80a08c,'y':_0x2251e4*0.3},'p1':{'x':_0x3cfdec*0.4,'y':_0x2251e4*0.4},'p2':{'x':_0x3cfdec*0.3,'y':_0x4154f5*0.9},'p3':{'x':_0x3cfdec*0.4,'y':_0x4154f5}},{'p0':{'x':_0x3cfdec*0.4,'y':_0x4154f5},'p1':{'x':_0x3cfdec*0.5,'y':_0x4154f5*1.05},'p2':{'x':_0x80a08c,'y':_0x1f4487},'p3':{'x':_0x80a08c+_0x3cfdec*0.1,'y':_0x1f4487}}],challengingStagePaths[_0x5e7229(0xf1)]=[{'p0':{'x':_0x1684b5,'y':_0x2251e4*0.6},'p1':{'x':_0x3cfdec*0.9,'y':_0x2251e4*0.4},'p2':{'x':_0x3cfdec*0.4,'y':_0x2251e4*0.2},'p3':{'x':_0x80a08c,'y':_0x2251e4*0.3}},{'p0':{'x':_0x80a08c,'y':_0x2251e4*0.3},'p1':{'x':_0x3cfdec*0.6,'y':_0x2251e4*0.4},'p2':{'x':_0x3cfdec*0.7,'y':_0x4154f5*0.9},'p3':{'x':_0x3cfdec*0.6,'y':_0x4154f5}},{'p0':{'x':_0x3cfdec*0.6,'y':_0x4154f5},'p1':{'x':_0x3cfdec*0.5,'y':_0x4154f5*1.05},'p2':{'x':_0x80a08c,'y':_0x1f4487},'p3':{'x':_0x80a08c-_0x3cfdec*0.1,'y':_0x1f4487}}];for(const _0x2c37d9 in challengingStagePaths){challengingStagePaths[_0x2c37d9]=challengingStagePaths[_0x2c37d9][_0x5e7229(0xf3)](_0x41c98b=>_0x41c98b?.['p0']&&_0x41c98b?.['p1']&&_0x41c98b?.['p2']&&_0x41c98b?.['p3']&&!isNaN(_0x41c98b['p0']['x']+_0x41c98b['p0']['y']+_0x41c98b['p1']['x']+_0x41c98b['p1']['y']+_0x41c98b['p2']['x']+_0x41c98b['p2']['y']+_0x41c98b['p3']['x']+_0x41c98b['p3']['y'])),challengingStagePaths[_0x2c37d9][_0x5e7229(0x1bf)]===0x0&&(console['error'](_0x5e7229(0x191)+_0x2c37d9+_0x5e7229(0x178)),challengingStagePaths[_0x2c37d9]=[{'p0':{'x':_0x3cfdec/0x2,'y':_0x1f4487},'p1':{'x':_0x3cfdec/0x2,'y':_0x2251e4/0x3},'p2':{'x':_0x3cfdec/0x2,'y':_0x2251e4*0x2/0x3},'p3':{'x':_0x3cfdec/0x2,'y':_0x395eb2}}]);}}function resizeCanvases(){const _0x8f7aa0=_0x40ad02;try{const _0x1cfe3e=window[_0x8f7aa0(0x19f)],_0x1a7638=window['innerHeight'];if(_0x1cfe3e<=0x0||_0x1a7638<=0x0)return;starrySkyCanvas&&(starrySkyCanvas['width']!==_0x1cfe3e||starrySkyCanvas[_0x8f7aa0(0x143)]!==_0x1a7638)&&(starrySkyCanvas[_0x8f7aa0(0x1b6)]=_0x1cfe3e,starrySkyCanvas['height']=_0x1a7638,createStars());retroGridCanvas&&(retroGridCanvas[_0x8f7aa0(0x1b6)]!==_0x1cfe3e||retroGridCanvas['height']!==_0x1a7638)&&(retroGridCanvas[_0x8f7aa0(0x1b6)]=_0x1cfe3e,retroGridCanvas[_0x8f7aa0(0x143)]=_0x1a7638);if(gameCanvas&&(gameCanvas['width']!==_0x1cfe3e||gameCanvas[_0x8f7aa0(0x143)]!==_0x1a7638)){const _0x4ef3d1=gameCanvas[_0x8f7aa0(0x1b6)];gameCanvas['width']=_0x1cfe3e,gameCanvas[_0x8f7aa0(0x143)]=_0x1a7638,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0x4ef3d1,_0x1cfe3e,_0x1a7638);}else(!gameCanvas?.[_0x8f7aa0(0x1b6)]||!gameCanvas?.[_0x8f7aa0(0x143)])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0x1e2adb){console[_0x8f7aa0(0x172)](_0x8f7aa0(0x168),_0x1e2adb);}}function handleResizeGameElements(_0x4b2b4a,_0x4c6b19,_0x2df072){const _0xd2391d=_0x40ad02;try{currentGridOffsetX=0x0,ship&&(_0x4b2b4a>0x0&&_0x4c6b19>0x0&&typeof ship['x']!==_0xd2391d(0x16f)?ship['x']=ship['x']/_0x4b2b4a*_0x4c6b19:ship['x']=_0x4c6b19/0x2-ship[_0xd2391d(0x1b6)]/0x2,ship['x']=Math[_0xd2391d(0x109)](0x0,Math['min'](_0x4c6b19-ship[_0xd2391d(0x1b6)],ship['x'])),ship['y']=_0x2df072-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship[_0xd2391d(0x132)]=ship['x']),enemies['forEach'](_0x1cfa53=>{const _0x31ccba=_0xd2391d;if(_0x1cfa53&&(_0x1cfa53['state']===_0x31ccba(0x127)||_0x1cfa53[_0x31ccba(0x184)]==='returning'||_0x1cfa53[_0x31ccba(0x184)]===_0x31ccba(0x12a)))try{const _0x590144=_0x1cfa53[_0x31ccba(0x1a2)]===ENEMY3_TYPE?BOSS_WIDTH:_0x1cfa53[_0x31ccba(0x1a2)]===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x5e944b,y:_0x1af6ad}=getCurrentGridSlotPosition(_0x1cfa53[_0x31ccba(0x181)],_0x1cfa53['gridCol'],_0x590144);_0x1cfa53[_0x31ccba(0x1a4)]=_0x5e944b,_0x1cfa53[_0x31ccba(0x17d)]=_0x1af6ad,_0x1cfa53[_0x31ccba(0x184)]==='in_grid'&&(_0x1cfa53['x']=_0x5e944b,_0x1cfa53['y']=_0x1af6ad);}catch(_0xd0db68){console['error'](_0x31ccba(0x11b)+_0x1cfa53['id']+'\x20on\x20resize:',_0xd0db68),(_0x1cfa53[_0x31ccba(0x184)]===_0x31ccba(0x127)||_0x1cfa53[_0x31ccba(0x184)]===_0x31ccba(0x12a)||_0x1cfa53[_0x31ccba(0x184)]===_0x31ccba(0x175))&&(_0x1cfa53['x']=_0x4c6b19/0x2,_0x1cfa53['y']=ENEMY_TOP_MARGIN+_0x1cfa53[_0x31ccba(0x181)]*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0x1cfa53[_0x31ccba(0x1a4)]=_0x1cfa53['x'],_0x1cfa53[_0x31ccba(0x17d)]=_0x1cfa53['y']);}});}catch(_0x9cf411){console[_0xd2391d(0x172)](_0xd2391d(0x15a),_0x9cf411);}}function handleKeyDown(_0x1e5172){const _0xdc0df7=_0x40ad02;try{const _0x4c2abe=['\x20','ArrowUp','ArrowDown',_0xdc0df7(0x1a7),_0xdc0df7(0x16a),_0xdc0df7(0x13a),_0xdc0df7(0x11c),'w','a','s','d','p','P','j','J','l','L','i','I',_0xdc0df7(0x153),_0xdc0df7(0x118),'Numpad0'];(_0x4c2abe['includes'](_0x1e5172[_0xdc0df7(0x128)])||_0x4c2abe[_0xdc0df7(0x140)](_0x1e5172[_0xdc0df7(0x15d)]))&&_0x1e5172[_0xdc0df7(0x173)]();let _0x3ba42d=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x3ba42d=!![]);if(_0x3ba42d)return;if(isInGameState){if((_0x1e5172[_0xdc0df7(0x128)]==='p'||_0x1e5172[_0xdc0df7(0x128)]==='P')&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){if(typeof togglePause===_0xdc0df7(0x116))togglePause();return;}if(!isPaused){if(playerLives>0x0){if(!isManualControl){if(_0x1e5172['key']===_0xdc0df7(0x11c)||_0x1e5172[_0xdc0df7(0x128)]==='Enter'){if(typeof stopGameAndShowMenu==='function')stopGameAndShowMenu();}else{if(!_0x1e5172[_0xdc0df7(0x107)]&&!_0x1e5172[_0xdc0df7(0x1a5)]&&!_0x1e5172['metaKey']&&!_0x1e5172[_0xdc0df7(0xee)]){if(typeof showMenuState===_0xdc0df7(0x116))showMenuState();}}}else{switch(_0x1e5172[_0xdc0df7(0x15d)]){case _0xdc0df7(0x1a7):case _0xdc0df7(0xf8):keyboardP1LeftDown=!![];break;case _0xdc0df7(0x16a):case'KeyD':keyboardP1RightDown=!![];break;case _0xdc0df7(0x1be):case'ArrowUp':case _0xdc0df7(0x104):keyboardP1ShootDown=!![];break;case'KeyJ':if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0xdc0df7(0x12c):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case'KeyI':if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case _0xdc0df7(0x153):if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0xdc0df7(0x118):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case _0xdc0df7(0x11a):if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case _0xdc0df7(0x11c):case _0xdc0df7(0x13a):if(typeof stopGameAndShowMenu===_0xdc0df7(0x116))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&_0x1e5172['key']==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&_0x1e5172[_0xdc0df7(0x128)]==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&_0x1e5172[_0xdc0df7(0x128)]==='i')keyboardP2ShootDown=!![];}}}}else{if(isShowingScoreScreen){if(!_0x1e5172[_0xdc0df7(0x107)]&&!_0x1e5172[_0xdc0df7(0x1a5)]&&!_0x1e5172[_0xdc0df7(0x135)]&&!_0x1e5172[_0xdc0df7(0xee)]&&_0x1e5172[_0xdc0df7(0x128)]!=='p'&&_0x1e5172[_0xdc0df7(0x128)]!=='P'){if(typeof showMenuState==='function')showMenuState();return;}}else{stopAutoDemoTimer();switch(_0x1e5172[_0xdc0df7(0x128)]){case _0xdc0df7(0x1c3):case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case _0xdc0df7(0x18e):case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case _0xdc0df7(0x13a):case'\x20':if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0xdc0df7(0x186):selectedFiringMode='single',baseStartGame(!![]);else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else selectedButtonIndex===0x1&&exitGame();}}break;case _0xdc0df7(0x11c):if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer()):exitGame();break;default:startAutoDemoTimer();break;}}}}catch(_0x56adcf){console[_0xdc0df7(0x172)]('Error\x20in\x20handleKeyDown:',_0x56adcf),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function handleKeyUp(_0x3d0688){const _0x430b63=_0x40ad02;try{switch(_0x3d0688[_0x430b63(0x15d)]){case'ArrowLeft':case _0x430b63(0xf8):keyboardP1LeftDown=![];break;case _0x430b63(0x16a):case _0x430b63(0x115):keyboardP1RightDown=![];break;case _0x430b63(0x1be):case'ArrowUp':case _0x430b63(0x104):keyboardP1ShootDown=![];break;case _0x430b63(0x10b):keyboardP2LeftDown=![];break;case'KeyL':keyboardP2RightDown=![];break;case _0x430b63(0x189):keyboardP2ShootDown=![];break;case _0x430b63(0x153):keyboardP2LeftDown=![];break;case _0x430b63(0x118):keyboardP2RightDown=![];break;case _0x430b63(0x11a):keyboardP2ShootDown=![];break;}if(keyboardP2LeftDown&&_0x3d0688['key']==='j')keyboardP2LeftDown=![];if(keyboardP2RightDown&&_0x3d0688[_0x430b63(0x128)]==='l')keyboardP2RightDown=![];if(keyboardP2ShootDown&&_0x3d0688[_0x430b63(0x128)]==='i')keyboardP2ShootDown=![];}catch(_0x2d2d9a){console[_0x430b63(0x172)](_0x430b63(0x117),_0x2d2d9a),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![];}}function handleGamepadConnected(_0x437723){const _0x479cf7=_0x40ad02;try{if(connectedGamepadIndex===null){connectedGamepadIndex=_0x437723[_0x479cf7(0xfe)]['index'];const _0x154532=_0x437723[_0x479cf7(0xfe)][_0x479cf7(0x179)][_0x479cf7(0x1bf)];previousButtonStates=new Array(_0x154532)['fill'](![]),previousDemoButtonStates=new Array(_0x154532)[_0x479cf7(0x19b)](![]),previousGameButtonStates=new Array(_0x154532)[_0x479cf7(0x19b)](![]),!isInGameState&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x437723[_0x479cf7(0xfe)]['index'];const _0x5ccf16=_0x437723[_0x479cf7(0xfe)]['buttons'][_0x479cf7(0x1bf)];previousGameButtonStatesP2=new Array(_0x5ccf16)['fill'](![]);}}}catch(_0x57470b){console[_0x479cf7(0x172)](_0x479cf7(0x1bc),_0x57470b);}}function handleGamepadDisconnected(_0x5deadd){const _0x251f02=_0x40ad02;try{if(connectedGamepadIndex===_0x5deadd['gamepad'][_0x251f02(0x156)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x5deadd[_0x251f02(0xfe)][_0x251f02(0x156)]&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0x5db8dd){console[_0x251f02(0x172)](_0x251f02(0x144),_0x5db8dd),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x5e6202=_0x40ad02;try{let _0x20bda9=0x0;isTwoPlayerMode?_0x20bda9=Math['max'](player1Score,player2Score):_0x20bda9=score,isManualControl&&_0x20bda9>highScore&&(highScore=_0x20bda9);}catch(_0x5a024f){console[_0x5e6202(0x172)](_0x5e6202(0x102),_0x5a024f);}}function loadHighScore(){const _0x15e499=_0x40ad02;try{highScore=0x4e20;}catch(_0x43b227){console['error'](_0x15e499(0x10d),_0x43b227),highScore=0x4e20;}}function muteAllSounds(){const _0xf774b6=_0x40ad02;audioCtx&&masterGainNode&&(previousMasterGain=masterGainNode[_0xf774b6(0x14b)][_0xf774b6(0x10f)],masterGainNode['gain']['setTargetAtTime'](0x0,audioCtx[_0xf774b6(0x1b7)],0.01));for(const _0x537bbb in playingLoopSources){stopSound(_0x537bbb);}isGridSoundPlaying=![];}function unmuteAllSounds(){const _0x5bbf93=_0x40ad02;audioCtx&&masterGainNode&&masterGainNode['gain'][_0x5bbf93(0x121)](previousMasterGain,audioCtx[_0x5bbf93(0x1b7)],0.01),!isInGameState&&typeof menuMusicSound!==_0x5bbf93(0x16f)&&playSound(menuMusicSound,!![]),isInGameState&&!isChallengingStage&&enemies['some'](_0x2a801c=>_0x2a801c?.[_0x5bbf93(0x184)]===_0x5bbf93(0x127))&&playSound(gridBackgroundSound,!![]),isShowingResultsScreen&&playSound(resultsMusicSound,!![]);}function togglePause(){const _0x43ab47=_0x40ad02;if(!isInGameState||playerLives<=0x0||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)return;isPaused=!isPaused;if(isPaused){muteAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(gameCanvas)gameCanvas['style'][_0x43ab47(0x133)]=_0x43ab47(0x190);}else unmuteAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function processSingleController(_0xee8eed,_0x29c811){const _0x30b0b6=_0x40ad02,_0x2e32db=_0xee8eed[_0x30b0b6(0x179)][_0x30b0b6(0x160)](_0x1c1e29=>_0x1c1e29[_0x30b0b6(0x1b1)]),_0x4ac7b8={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0x2e32db[_0x30b0b6(0x10c)]()},_0x1300a5=_0x2e32db[PS5_BUTTON_CROSS],_0x29be83=_0x2e32db[PS5_BUTTON_R1],_0x2e3962=_0x29c811[PS5_BUTTON_R1]??![],_0x3a4243=_0x2e32db[PS5_BUTTON_TRIANGLE],_0x370f6f=_0x29c811[PS5_BUTTON_TRIANGLE]??![],_0x4ee779=_0xee8eed[_0x30b0b6(0x1b9)][PS5_LEFT_STICK_X]??0x0,_0x38d026=_0x2e32db[PS5_DPAD_LEFT],_0x459962=_0x2e32db[PS5_DPAD_RIGHT],_0x13ccc8=AXIS_DEAD_ZONE_GAMEPLAY;if(_0x4ee779<-_0x13ccc8||_0x38d026)_0x4ac7b8['left']=!![];else(_0x4ee779>_0x13ccc8||_0x459962)&&(_0x4ac7b8[_0x30b0b6(0xfd)]=!![]);return _0x1300a5&&(_0x4ac7b8[_0x30b0b6(0x14a)]=!![]),_0x29be83&&!_0x2e3962&&(_0x4ac7b8[_0x30b0b6(0x10e)]=!![]),_0x3a4243&&!_0x370f6f&&(_0x4ac7b8[_0x30b0b6(0x1c7)]=!![]),_0x4ac7b8;}function triggerFinalGameOverSequence(){const _0x2d4be8=_0x40ad02;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();stopSound(gridBackgroundSound),stopSound(menuMusicSound),stopSound(resultsMusicSound),stopSound(captureSound),stopSound(entranceSound),isGridSoundPlaying=![];const _0x150a72=Date[_0x2d4be8(0x16b)]();!isTwoPlayerMode?(playSound(gameOverSound),gameOverSequenceStartTime=_0x150a72):(gameOverSequenceStartTime=_0x150a72-GAME_OVER_DURATION,playSound(resultsMusicSound,!![]),isShowingResultsScreen=!![]),bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}
const _0xf1d899=_0x3740;(function(_0x31b9f4,_0x30dbb7){const _0x2a6a03=_0x3740,_0x29e937=_0x31b9f4();while(!![]){try{const _0x12c37e=parseInt(_0x2a6a03(0x81))/0x1+parseInt(_0x2a6a03(0xcf))/0x2+parseInt(_0x2a6a03(0xd7))/0x3*(parseInt(_0x2a6a03(0xd2))/0x4)+parseInt(_0x2a6a03(0x106))/0x5+-parseInt(_0x2a6a03(0x11f))/0x6+-parseInt(_0x2a6a03(0x130))/0x7+parseInt(_0x2a6a03(0xec))/0x8*(-parseInt(_0x2a6a03(0xac))/0x9);if(_0x12c37e===_0x30dbb7)break;else _0x29e937['push'](_0x29e937['shift']());}catch(_0x5238ba){_0x29e937['push'](_0x29e937['shift']());}}}(_0x46fb,0x57add));const ENEMY1_TYPE=_0xf1d899(0xa1),ENEMY2_TYPE=_0xf1d899(0x125),ENEMY3_TYPE=_0xf1d899(0x118),ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math[_0xf1d899(0xea)](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math[_0xf1d899(0xea)](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math[_0xf1d899(0xea)](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0xf1d899(0xea)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5;let audioCtx,masterGainNode,previousMasterGain=0.5,audioBuffers={},playingLoopSources={};const SOUND_PATHS={'PLAYER_SHOOT':_0xf1d899(0x9e),'ENEMY_SHOOT':_0xf1d899(0x122),'EXPLOSION':_0xf1d899(0x105),'GAME_OVER':'Geluiden/gameover.mp3','LOST_LIFE':_0xf1d899(0x116),'ENTRANCE':_0xf1d899(0x117),'BOSS_DIVE':_0xf1d899(0xce),'LEVEL_UP':_0xf1d899(0xae),'BUTTERFLY_DIVE':'Geluiden/flying.mp3','START_GAME':_0xf1d899(0xb6),'COIN':_0xf1d899(0xef),'BEE_HIT':_0xf1d899(0xba),'BUTTERFLY_HIT':_0xf1d899(0x11e),'BOSS_HIT_1':_0xf1d899(0xa0),'BOSS_HIT_2':_0xf1d899(0x96),'GRID_BACKGROUND':_0xf1d899(0xc6),'EXTRA_LIFE':_0xf1d899(0x140),'CS_PERFECT':_0xf1d899(0x142),'CS_CLEAR':_0xf1d899(0x152),'WAVE_UP':'Geluiden/Waveup.mp3','MENU_MUSIC':_0xf1d899(0xa9),'READY':_0xf1d899(0x123),'TRIPLE_ATTACK':_0xf1d899(0x143),'CAPTURE':'Geluiden/Capture.mp3','SHIP_CAPTURED':_0xf1d899(0xe7),'DUAL_SHIP':_0xf1d899(0xef),'RESULTS_MUSIC':'Geluiden/results-music.mp3','HI_SCORE':_0xf1d899(0xca)};let soundVolumes={'PLAYER_SHOOT':0x1,'ENEMY_SHOOT':0.7,'EXPLOSION':0.9,'GAME_OVER':0.8,'LOST_LIFE':0.9,'ENTRANCE':0.6,'BOSS_DIVE':0.7,'LEVEL_UP':0.8,'BUTTERFLY_DIVE':0.6,'START_GAME':0.7,'COIN':0.9,'BEE_HIT':0.8,'BUTTERFLY_HIT':0.8,'BOSS_HIT_1':0.9,'BOSS_HIT_2':0x1,'GRID_BACKGROUND':0.35,'EXTRA_LIFE':0.9,'CS_PERFECT':0x1,'CS_CLEAR':0.8,'WAVE_UP':0.7,'MENU_MUSIC':0.45,'READY':0.7,'TRIPLE_ATTACK':0.8,'CAPTURE':0.7,'SHIP_CAPTURED':0x1,'DUAL_SHIP':0.9,'RESULTS_MUSIC':0.5,'HI_SCORE':0x1};const playerShootSound='PLAYER_SHOOT',enemyShootSound=_0xf1d899(0x138),explosionSound=_0xf1d899(0x141),gameOverSound=_0xf1d899(0xaa),lostLifeSound=_0xf1d899(0xc0),entranceSound=_0xf1d899(0x14b),bossGalagaDiveSound=_0xf1d899(0x7d),levelUpSound=_0xf1d899(0x111),butterflyDiveSound=_0xf1d899(0xfa),startSound='START_GAME',coinSound=_0xf1d899(0x82),beeHitSound='BEE_HIT',butterflyHitSound=_0xf1d899(0x161),bossHit1Sound='BOSS_HIT_1',bossHit2Sound=_0xf1d899(0xe4),gridBackgroundSound=_0xf1d899(0x8b),extraLifeSound=_0xf1d899(0x113),csPerfectSound='CS_PERFECT',csClearSound=_0xf1d899(0x134),waveUpSound='WAVE_UP',menuMusicSound='MENU_MUSIC',readySound=_0xf1d899(0xb1),tripleAttackSound=_0xf1d899(0x9f),captureSound='CAPTURE',shipCapturedSound='SHIP_CAPTURED',dualShipSound=_0xf1d899(0x80),resultsMusicSound=_0xf1d899(0x90),hiScoreSound=_0xf1d899(0x15d);function _0x3740(_0x4c5b1c,_0x31528e){const _0x46fb85=_0x46fb();return _0x3740=function(_0x374000,_0x1a4f6b){_0x374000=_0x374000-0x7c;let _0x3ffede=_0x46fb85[_0x374000];return _0x3ffede;},_0x3740(_0x4c5b1c,_0x31528e);}let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isFiringModeSelectMode=![],selectedFiringMode=_0xf1d899(0xb3),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isPlayerSelectMode=![],isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',forceCenterShipNextReset=![],isShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],respawnTime=0x0,isInvincible=![],invincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0},leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];function _0x46fb(){const _0x44b39c=['max','altKey','currentTime','249CGSrDg','width','Afbeeldingen/bossGalaga-2.png','Error\x20in\x20handleGamepadConnected:','fill','type','arc','Afbeeldingen/Level-50.png','in_grid','CS_LoopAttack_TL','right','height','buffer','BOSS_HIT_2','error','rgba(255,\x20255,\x20255,\x20','Geluiden/Capture-ship.mp3','atan2','CS3_DiveLoopL_Sharp','round','moving_to_grid','424OlqXfO','disconnect','src','Geluiden/coin.mp3','buttons','boss_loop_right','default','rgba(220,\x20220,\x20255,\x200.6)','start','message','\x20on\x20resize:','webkitAudioContext','strokeStyle','forEach','BUTTERFLY_DIVE','Afbeeldingen/bee-2.png','single','gamepaddisconnected','cyan','rgba(180,\x20180,\x20255,\x200.1)','ArrowLeft','getElementById','lineWidth','code','new_path_left','Geluiden/kill.mp3','2599185jxkNnG','gainNode','decodeAudioData','response','Afbeeldingen/bee.png','undefined','value','Error\x20in\x20drawRetroGrid:','gamepad','slice','now','LEVEL_UP','addEventListener','EXTRA_LIFE','CS\x20Path\x20','pause','Geluiden/lost-live.mp3','Geluiden/Entree.mp3','enemy3','Error\x20in\x20handleGamepadDisconnected:','XMLHttpRequest\x20error\x20loading\x20audio\x20file:\x20','lineTo','retroGridCanvas','bold\x2012px\x20\x27Press\x20Start\x202P\x27','Geluiden/Butterfly-hit.mp3','823122FleoSi','gridCol','left','Geluiden/Fire-enemy.mp3','Geluiden/ready.mp3','some','enemy2','ArrowDown','gamepadconnected','returning','state','min','requestFullscreen','stop','KeyD','Afbeeldingen/Level-1.png','key','4192951tpvdBZ','Afbeeldingen/bullet.png','FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!','Error\x20resuming\x20AudioContext:','CS_CLEAR','Fullscreen\x20error\x20(WebKit):\x20','function','clearRect','ENEMY_SHOOT','Afbeeldingen/Level-5.png','targetGridY','alpha','open','KeyI','Error\x20handling\x20game\x20resize\x20specifics:','Error\x20in\x20loadHighScore:','Geluiden/Extra-Leven.mp3','EXPLOSION','Geluiden/CS-Stage-Perfect-.mp3','Geluiden/Triple.mp3','arraybuffer','length','Error\x20in\x20stopSound\x20for\x20','floor','Error\x20in\x20playSound\x20for\x20','Afbeeldingen/bullet-enemy.png','stringify','ENTRANCE','index','innerHTML','Afbeeldingen/Level-30.png','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','boss_loop_left','Enter','Geluiden/CS-Clear.mp3','resize','filter','Error\x20in\x20handleKeyUp:','cursor','Afbeeldingen/butterfly-2.png','catch','Numpad0','gameCanvas','\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.','moveTo','HI_SCORE','innerWidth','preventDefault','axes','BUTTERFLY_HIT','CS_LoopAttack_BR','Afbeeldingen/Level-10.png','BOSS_DIVE','parse','suspended','DUAL_SHIP','361335MUuQkx','COIN','KeyW','onerror','Space','KeyA','Numpad4','<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>','Escape','stroke','GRID_BACKGROUND','Error\x20loading\x20image:\x20','new_path_right','targetGridX','number','RESULTS_MUSIC','Normal\x20Wave\x20Path\x20','Numpad6','map','shoot','GET','Geluiden/Boss-hit2.mp3','AudioContext\x20not\x20initialized.\x20Cannot\x20load\x20audio\x20buffer.','Fullscreen\x20error\x20(FF):\x20','pow','loop','gridRow','red','source','Geluiden/firing.mp3','TRIPLE_ATTACK','Geluiden/Boss-hit1.mp3','enemy1','webkitRequestFullscreen','createBufferSource','toFixed','alphaChange','connect','ArrowRight','radius','Geluiden/Menu-music.mp3','GAME_OVER','beginPath','92142neneni','fillStyle','Geluiden/LevelUp.mp3','KeyL','isArray','READY','CS3_DiveLoopR_Sharp','rapid','rgba(','getContext','Geluiden/Start.mp3','Error\x20in\x20handleKeyDown:','KeyJ','includes','Geluiden/Bees-hit.mp3','mid_curve_right','send','createGain','Afbeeldingen/bossGalaga.png','metaKey','LOST_LIFE','Error\x20loading\x20critical\x20canvas\x20elements.','ArrowUp','mid_curve_left','keys','gain','Geluiden/Achtergrond-grid.mp3','random','responseType','shiftKey','Geluiden/hi-score.mp3','100,\x20180,\x20255','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','Afbeeldingen/Level-20.png','Geluiden/Enemy2.mp3','1136524FUtClK','cos','starrySkyCanvas','9084tUEBtR','push'];_0x46fb=function(){return _0x44b39c;};return _0x46fb();}let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0;csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],ui2upRect=null,isTouching=![],touchCurrentX=0x0,isDraggingShip=![],shipTouchOffsetX=0x0,lastTapTime=0x0;const TAP_DURATION_THRESHOLD=0xfa;let touchJustFiredSingle=![];const MIN_DRAG_DISTANCE_FOR_TAP_CANCEL=0xa,MIN_DRAG_TIME_FOR_TAP_CANCEL=0x50;let touchStartX=0x0,isTouchFiringActive=![];const shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage[_0xf1d899(0xee)]='Afbeeldingen/spaceship.png',beeImage['src']=_0xf1d899(0x10a),bulletImage[_0xf1d899(0xee)]=_0xf1d899(0x131),bossGalagaImage[_0xf1d899(0xee)]=_0xf1d899(0xbe),butterflyImage[_0xf1d899(0xee)]='Afbeeldingen/butterfly.png',logoImage[_0xf1d899(0xee)]='Afbeeldingen/Logo.png',enemyBulletImage[_0xf1d899(0xee)]=_0xf1d899(0x149);const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2[_0xf1d899(0xee)]=_0xf1d899(0xfb),butterflyImage2[_0xf1d899(0xee)]=_0xf1d899(0x157),bossGalagaImage2[_0xf1d899(0xee)]=_0xf1d899(0xd9);const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image[_0xf1d899(0xee)]=_0xf1d899(0x12e),level5Image[_0xf1d899(0xee)]=_0xf1d899(0x139),level10Image[_0xf1d899(0xee)]=_0xf1d899(0x7c),level20Image[_0xf1d899(0xee)]=_0xf1d899(0xcd),level30Image[_0xf1d899(0xee)]=_0xf1d899(0x14e),level50Image['src']=_0xf1d899(0xde);const BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0x9,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0x4,MAX_MAX_ATTACKING_ENEMIES=0xa,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.75,MAX_ENEMY_AIM_FACTOR=0.95,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,BASE_GRID_FIRE_INTERVAL=0xaf0,MIN_GRID_FIRE_INTERVAL=0x320,BASE_GRID_FIRE_PROBABILITY=0.04,MAX_GRID_FIRE_PROBABILITY=0.15,BASE_GRID_MAX_FIRING_ENEMIES=0x5,MAX_GRID_MAX_FIRING_ENEMIES=0xe,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART=_0xf1d899(0xcb),GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED=_0xf1d899(0xb4)+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,ENTRANCE_SQUADRON_FIRE_DELAY_MS=0x5dc,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START=_0xf1d899(0xff),CAPTURE_BEAM_COLOR_END=_0xf1d899(0xf3),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR='rgba(255,\x20150,\x20150,\x200.55)',CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT=_0xf1d899(0x11d),FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID=_0xf1d899(0xfe),FLOATING_SCORE_COLOR_ACTIVE=_0xf1d899(0x9c),FLOATING_SCORE_COLOR_CS_CHAIN=_0xf1d899(0xfe),CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0xc,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=0x5,HIT_SPARK_SIZE=0x3,HIT_SPARK_COLOR='rgba(255,\x20255,\x20180,\x200.9)',HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.8,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*2.2,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.1,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.1,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,AI_CAPTURE_PREVENTION_TIME_MS=0xbb8,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0xbb8,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':'new_path_left','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0xf1d899(0x104)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0xf1d899(0x104)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0xf1d899(0x104)}]},{'pathId':_0xf1d899(0x8d),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0xf1d899(0x8d)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0xf1d899(0x8d)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0xf1d899(0x8d)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0xf1d899(0x8d)}]},{'pathId':_0xf1d899(0x150),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0xf1d899(0x150),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':'boss_loop_left'},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0xf1d899(0x150),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0xf1d899(0x150),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0xf1d899(0x150)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0xf1d899(0x150)}]},{'pathId':'boss_loop_right','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0xf1d899(0xf1)}]},{'pathId':_0xf1d899(0xc3),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0xf1d899(0xc3)}]},{'pathId':_0xf1d899(0xbb),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':'mid_curve_right'}]}],[{'pathId':'new_path_left','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0xf1d899(0x104)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0xf1d899(0x104)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':'new_path_left'}]},{'pathId':_0xf1d899(0x8d),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0xf1d899(0x8d)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':'new_path_right'}]},{'pathId':_0xf1d899(0x150),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0xf1d899(0x150),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0xf1d899(0x150),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0xf1d899(0x150)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0xf1d899(0x150)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0xf1d899(0x150),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0xf1d899(0x150)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0xf1d899(0x150)}]},{'pathId':_0xf1d899(0xf1),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0xf1d899(0xf1)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0xf1d899(0xf1)}]},{'pathId':_0xf1d899(0xc3),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0xf1d899(0xc3)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':'mid_curve_left'}]},{'pathId':_0xf1d899(0xbb),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0xf1d899(0xbb)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0xf1d899(0xbb)}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=0x5,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function initializeDOMElements(){const _0x118946=_0xf1d899;starrySkyCanvas=document[_0x118946(0x101)](_0x118946(0xd1)),starryCtx=starrySkyCanvas?.[_0x118946(0xb5)]('2d'),retroGridCanvas=document['getElementById'](_0x118946(0x11c)),retroGridCtx=retroGridCanvas?.[_0x118946(0xb5)]('2d'),gameCanvas=document[_0x118946(0x101)](_0x118946(0x15a)),gameCtx=gameCanvas?.['getContext']('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console[_0x118946(0xe5)](_0x118946(0x132)),alert(_0x118946(0xc1)),document['body'][_0x118946(0x14d)]=_0x118946(0x88),![];floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;try{!audioCtx&&(audioCtx=new(window['AudioContext']||window[(_0x118946(0xf7))])(),masterGainNode=audioCtx[_0x118946(0xbd)](),masterGainNode[_0x118946(0xa6)](audioCtx['destination']),masterGainNode[_0x118946(0xc5)]['value']=0.5,previousMasterGain=0.5);audioBuffers={},playingLoopSources={};let _0x14116b=0x0;const _0x4398e3=Object[_0x118946(0xc4)](SOUND_PATHS)['length'];for(const _0x578d38 in SOUND_PATHS){loadAudioBuffer(SOUND_PATHS[_0x578d38],_0x2c8928=>{audioBuffers[_0x578d38]=_0x2c8928,_0x14116b++;if(_0x14116b===_0x4398e3){}});}}catch(_0x4cc511){console[_0x118946(0xe5)]('Error\x20initializing\x20Web\x20Audio:',_0x4cc511);}const _0x1fdb1a=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2,enemyBulletImage];return _0x1fdb1a[_0x118946(0xf9)](_0x6ccd53=>{const _0x5825cf=_0x118946;if(_0x6ccd53)_0x6ccd53[_0x5825cf(0x84)]=()=>console[_0x5825cf(0xe5)](_0x5825cf(0x8c)+_0x6ccd53['src']);}),!![];}function scaleValue(_0x19f219,_0x12effa,_0x2482f1){const _0x202482=_0xf1d899,_0x4ef2c7=Math['max'](0x1,Math[_0x202482(0x12a)](_0x19f219,LEVEL_CAP_FOR_SCALING));if(_0x4ef2c7===0x1)return _0x12effa;const _0x51dddd=(_0x4ef2c7-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x12effa+(_0x2482f1-_0x12effa)*_0x51dddd;}function setupInitialEventListeners(){const _0x24d72e=_0xf1d899;try{window['addEventListener'](_0x24d72e(0x127),handleGamepadConnected),window[_0x24d72e(0x112)](_0x24d72e(0xfd),handleGamepadDisconnected),window['addEventListener'](_0x24d72e(0x153),resizeCanvases);}catch(_0xfcfeb9){console['error']('Error\x20setting\x20up\x20initial\x20event\x20listeners:',_0xfcfeb9);}}function getCurrentGridSlotPosition(_0x444e40,_0x5935b0,_0xb895aa){const _0x4337fa=_0xf1d899;if(!gameCanvas||gameCanvas[_0x4337fa(0xd8)]===0x0||_0x444e40<0x0||_0x5935b0<0x0)return{'x':gameCanvas?.[_0x4337fa(0xd8)]/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0x1a60f4=ENEMY_WIDTH;let _0x3d1f35=ENEMY_H_SPACING_FIXED,_0x456386=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x1a4e7b=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0x3d1f35=ENEMY_H_SPACING_FIXED+_0x1a4e7b;const _0x3ee1bf=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x456386=ENEMY_V_SPACING+_0x3ee1bf;}const _0xff40aa=GRID_COLS*_0x1a60f4+(GRID_COLS-0x1)*_0x3d1f35,_0x415775=Math[_0x4337fa(0xea)]((gameCanvas[_0x4337fa(0xd8)]-_0xff40aa)/0x2),_0x311fea=_0x415775+currentGridOffsetX,_0x53f6b3=_0x311fea+_0x5935b0*(_0x1a60f4+_0x3d1f35),_0x41bbcc=(_0x1a60f4-_0xb895aa)/0x2,_0x120df3=Math[_0x4337fa(0xea)](_0x53f6b3+_0x41bbcc),_0x26a5f8=Math[_0x4337fa(0xea)](ENEMY_TOP_MARGIN+_0x444e40*(ENEMY_HEIGHT+_0x456386));return{'x':_0x120df3,'y':_0x26a5f8};}function loadAudioBuffer(_0x51a14c,_0x428112){const _0x1e71d5=_0xf1d899;if(!audioCtx){console[_0x1e71d5(0xe5)](_0x1e71d5(0x97));return;}const _0x2bd17f=new XMLHttpRequest();_0x2bd17f[_0x1e71d5(0x13c)](_0x1e71d5(0x95),_0x51a14c,!![]),_0x2bd17f[_0x1e71d5(0xc8)]=_0x1e71d5(0x144),_0x2bd17f['onload']=function(){const _0x11c820=_0x1e71d5;audioCtx[_0x11c820(0x108)](_0x2bd17f[_0x11c820(0x109)],function(_0x3960ae){if(_0x428112)_0x428112(_0x3960ae);},function(_0x3276c0){const _0xa10b25=_0x11c820;console[_0xa10b25(0xe5)]('Error\x20decoding\x20audio\x20data\x20from\x20'+_0x51a14c,_0x3276c0);});},_0x2bd17f[_0x1e71d5(0x84)]=function(){const _0x2db836=_0x1e71d5;console[_0x2db836(0xe5)](_0x2db836(0x11a)+_0x51a14c);},_0x2bd17f[_0x1e71d5(0xbc)]();}function playSound(_0x2ca125,_0x54411d=![]){const _0x4e3f1f=_0xf1d899;try{if(!audioCtx||!masterGainNode)return;audioCtx[_0x4e3f1f(0x129)]===_0x4e3f1f(0x7f)&&audioCtx['resume']()[_0x4e3f1f(0x158)](_0x282b93=>console['error'](_0x4e3f1f(0x133),_0x282b93));if(isPaused&&_0x2ca125!==menuMusicSound&&_0x2ca125!==resultsMusicSound)return;_0x2ca125===menuMusicSound&&stopSound(resultsMusicSound);const _0x1c0cf6=audioBuffers[_0x2ca125];if(!_0x1c0cf6)return;if(_0x54411d&&playingLoopSources[_0x2ca125]){try{playingLoopSources[_0x2ca125][_0x4e3f1f(0x9d)][_0x4e3f1f(0x12c)](),playingLoopSources[_0x2ca125]['gainNode'][_0x4e3f1f(0xed)]();}catch(_0x267e12){}delete playingLoopSources[_0x2ca125];}const _0xaf3a27=audioCtx[_0x4e3f1f(0xa3)]();_0xaf3a27[_0x4e3f1f(0xe3)]=_0x1c0cf6;const _0x427854=audioCtx['createGain'](),_0x3c249a=soundVolumes[_0x2ca125]!==undefined?soundVolumes[_0x2ca125]:0x1;_0x427854[_0x4e3f1f(0xc5)][_0x4e3f1f(0x10c)]=_0x3c249a,_0xaf3a27[_0x4e3f1f(0xa6)](_0x427854),_0x427854[_0x4e3f1f(0xa6)](masterGainNode),_0xaf3a27[_0x4e3f1f(0x9a)]=_0x54411d,_0xaf3a27[_0x4e3f1f(0xf4)](0x0),_0x54411d&&(playingLoopSources[_0x2ca125]={'source':_0xaf3a27,'gainNode':_0x427854},_0x2ca125===gridBackgroundSound&&(isGridSoundPlaying=!![]));}catch(_0x28fac9){console[_0x4e3f1f(0xe5)](_0x4e3f1f(0x148)+_0x2ca125+':',_0x28fac9);}}function stopSound(_0x1f2fee){const _0x196556=_0xf1d899;try{if(playingLoopSources[_0x1f2fee]){const _0x5dca5c=playingLoopSources[_0x1f2fee],_0x54e979=_0x5dca5c[_0x196556(0x9d)],_0x984372=_0x5dca5c[_0x196556(0x107)];if(_0x54e979)try{_0x54e979[_0x196556(0x12c)](0x0);}catch(_0x4c1d5b){}if(_0x984372)try{_0x984372[_0x196556(0xed)]();}catch(_0xf764c2){}delete playingLoopSources[_0x1f2fee],_0x1f2fee===gridBackgroundSound&&(isGridSoundPlaying=![]);}}catch(_0x3c530a){console[_0x196556(0xe5)](_0x196556(0x146)+_0x1f2fee+':',_0x3c530a);}}function checkCollision(_0x23e6c5,_0x3749ab){const _0x52f8b5=_0xf1d899;if(!_0x23e6c5||!_0x3749ab)return![];return _0x23e6c5['x']<_0x3749ab['x']+_0x3749ab[_0x52f8b5(0xd8)]&&_0x23e6c5['x']+_0x23e6c5['width']>_0x3749ab['x']&&_0x23e6c5['y']<_0x3749ab['y']+_0x3749ab[_0x52f8b5(0xe2)]&&_0x23e6c5['y']+_0x23e6c5[_0x52f8b5(0xe2)]>_0x3749ab['y'];}function triggerFullscreen(){const _0x18a658=_0xf1d899;if(!document['fullscreenElement']){const _0x527dcc=document['documentElement'];if(_0x527dcc[_0x18a658(0x12b)])_0x527dcc[_0x18a658(0x12b)]()[_0x18a658(0x158)](_0x475945=>console[_0x18a658(0xe5)]('Fullscreen\x20error:\x20'+_0x475945[_0x18a658(0xf5)]));else{if(_0x527dcc['mozRequestFullScreen'])_0x527dcc['mozRequestFullScreen']()[_0x18a658(0x158)](_0x2df7da=>console[_0x18a658(0xe5)](_0x18a658(0x98)+_0x2df7da['message']));else{if(_0x527dcc[_0x18a658(0xa2)])_0x527dcc['webkitRequestFullscreen']()['catch'](_0x538a57=>console[_0x18a658(0xe5)](_0x18a658(0x135)+_0x538a57[_0x18a658(0xf5)]));else _0x527dcc['msRequestFullscreen']&&_0x527dcc['msRequestFullscreen']()[_0x18a658(0x158)](_0x16bfbb=>console[_0x18a658(0xe5)]('Fullscreen\x20error\x20(MS):\x20'+_0x16bfbb['message']));}}}}function createStar(){const _0x3557e9=_0xf1d899;if(!starrySkyCanvas||starrySkyCanvas[_0x3557e9(0xd8)]===0x0)return null;return{'x':Math[_0x3557e9(0xc7)]()*starrySkyCanvas[_0x3557e9(0xd8)],'y':Math['random']()*starrySkyCanvas['height'],'radius':Math[_0x3557e9(0xc7)]()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math[_0x3557e9(0xc7)]()*0.8+0.2,'alphaChange':(Math[_0x3557e9(0xc7)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math[_0x3557e9(0xc7)]()*0.5+0.5)};}function createStars(){const _0x245727=_0xf1d899;stars=[];if(starrySkyCanvas?.[_0x245727(0xd8)]>0x0&&starrySkyCanvas?.[_0x245727(0xe2)]>0x0)for(let _0xf4fcb9=0x0;_0xf4fcb9<NUM_STARS;_0xf4fcb9++){const _0x352251=createStar();if(_0x352251)stars[_0x245727(0xd3)](_0x352251);}}function drawStars(){const _0x5c0a05=_0xf1d899;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas[_0x5c0a05(0xd8)]===0x0||starrySkyCanvas['height']===0x0)return;const _0x3b6a3d=starrySkyCanvas[_0x5c0a05(0xd8)],_0x4ebbc5=starrySkyCanvas['height'];starryCtx[_0x5c0a05(0x137)](0x0,0x0,_0x3b6a3d,_0x4ebbc5);const _0x2f1117=Math[_0x5c0a05(0xea)](_0x4ebbc5*GRID_HORIZON_Y_FACTOR),_0x5e6499=_0x4ebbc5-_0x2f1117,_0x4f4c92=Math['max'](0x0,_0x2f1117-_0x5e6499*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x3b41a2=_0x2f1117,_0xfc1264=Math['max'](0x1,_0x3b41a2-_0x4f4c92);stars[_0x5c0a05(0xf9)](_0x8687e8=>{const _0x2526f2=_0x5c0a05,_0x519cba=(_0x8687e8[_0x2526f2(0xa8)]-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x3f78f9=BASE_PARALLAX_SPEED+_0x519cba*PARALLAX_SPEED_FACTOR;!isPaused&&(_0x8687e8['y']+=_0x3f78f9);_0x8687e8['y']>_0x4ebbc5+_0x8687e8[_0x2526f2(0xa8)]&&(_0x8687e8['y']=-_0x8687e8[_0x2526f2(0xa8)]*0x2,_0x8687e8['x']=Math[_0x2526f2(0xc7)]()*_0x3b6a3d);!isPaused&&(_0x8687e8['alpha']+=_0x8687e8['alphaChange'],(_0x8687e8[_0x2526f2(0x13b)]<=0.1||_0x8687e8['alpha']>=0x1)&&(_0x8687e8[_0x2526f2(0xa5)]*=-0x1,_0x8687e8[_0x2526f2(0x13b)]=Math[_0x2526f2(0xd4)](0.1,Math[_0x2526f2(0x12a)](0x1,_0x8687e8['alpha']))));let _0x3b9224=_0x8687e8[_0x2526f2(0x13b)];_0x4f4c92>=0x0&&_0x8687e8['y']>_0x4f4c92&&(_0x8687e8['y']>=_0x2f1117?_0x3b9224=0x0:_0x3b9224*=0x1-Math[_0x2526f2(0x12a)](0x1,Math[_0x2526f2(0xd4)](0x0,(_0x8687e8['y']-_0x4f4c92)/_0xfc1264))),_0x3b9224=Math[_0x2526f2(0xd4)](0x0,Math[_0x2526f2(0x12a)](0x1,_0x3b9224)),_0x3b9224>0.01&&(starryCtx[_0x2526f2(0xab)](),starryCtx[_0x2526f2(0xdd)](Math['round'](_0x8687e8['x']),Math[_0x2526f2(0xea)](_0x8687e8['y']),_0x8687e8['radius'],0x0,Math['PI']*0x2),starryCtx[_0x2526f2(0xad)]=_0x2526f2(0xe6)+_0x3b9224[_0x2526f2(0xa4)](0x3)+')',starryCtx[_0x2526f2(0xdb)]());});}catch(_0x476b2c){console[_0x5c0a05(0xe5)]('Error\x20in\x20drawStars:',_0x476b2c);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x4c01a6=_0xf1d899;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas[_0x4c01a6(0xd8)]===0x0||retroGridCanvas['height']===0x0)return;!isPaused&&(gridOffsetY-=GRID_SPEED);const _0x36411a=retroGridCanvas[_0x4c01a6(0xd8)],_0x545c90=retroGridCanvas[_0x4c01a6(0xe2)];retroGridCtx['clearRect'](0x0,0x0,_0x36411a,_0x545c90);const _0x536df7=Math[_0x4c01a6(0xea)](_0x545c90*GRID_HORIZON_Y_FACTOR),_0x3530f7=_0x36411a/0x2,_0x3f2efd=_0x545c90-_0x536df7;retroGridCtx[_0x4c01a6(0x102)]=GRID_LINE_WIDTH;const _0x545ac8=_0x36411a*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0x2da194=_0x3530f7-_0x545ac8/0x2,_0x5b1f36=_0x3530f7+_0x545ac8/0x2,_0x3eb869=_0x536df7+_0x3f2efd*0.1,_0x242b15=_0x545c90,_0x276a6c=Math['max'](0x1,_0x242b15-_0x3eb869);retroGridCtx[_0x4c01a6(0xf8)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x4c01a6(0xab)](),retroGridCtx[_0x4c01a6(0x15c)](_0x2da194,_0x536df7),retroGridCtx[_0x4c01a6(0x11b)](_0x5b1f36,_0x536df7),retroGridCtx[_0x4c01a6(0x8a)]();let _0x4b2311=gridOffsetY%GRID_BASE_SPACING;_0x4b2311>0x0&&(_0x4b2311-=GRID_BASE_SPACING);let _0x159e30=_0x536df7-_0x4b2311;if(_0x159e30<=_0x536df7)_0x159e30+=GRID_BASE_SPACING;while(_0x159e30<_0x545c90+GRID_BASE_SPACING){let _0x45e186=Math[_0x4c01a6(0xd4)](0x0,Math[_0x4c01a6(0x12a)](0x1,(_0x159e30-_0x536df7)/_0x3f2efd));if(_0x159e30>_0x536df7&&_0x159e30<=_0x545c90+GRID_LINE_WIDTH*0x2){let _0x52809e;if(_0x159e30<=_0x3eb869)_0x52809e=GRID_MIN_ALPHA;else{if(_0x159e30>=_0x242b15)_0x52809e=GRID_BASE_ALPHA;else{const _0x45f04=(_0x159e30-_0x3eb869)/_0x276a6c;_0x52809e=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x45f04;}}_0x52809e=Math[_0x4c01a6(0xd4)](0x0,Math[_0x4c01a6(0x12a)](GRID_BASE_ALPHA,_0x52809e)),_0x52809e>0.01&&(retroGridCtx[_0x4c01a6(0xf8)]=_0x4c01a6(0xb4)+GRID_RGB_PART+',\x20'+_0x52809e['toFixed'](0x3)+')',retroGridCtx[_0x4c01a6(0xab)](),retroGridCtx[_0x4c01a6(0x15c)](_0x2da194,Math['round'](_0x159e30)),retroGridCtx['lineTo'](_0x5b1f36,Math[_0x4c01a6(0xea)](_0x159e30)),retroGridCtx[_0x4c01a6(0x8a)]());}let _0x59d78f=GRID_BASE_SPACING*Math[_0x4c01a6(0x99)](0x1+_0x45e186*1.5,GRID_SPACING_POWER);_0x159e30+=Math['max'](0x1,_0x59d78f);}retroGridCtx['strokeStyle']=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x4c01a6(0xab)]();const _0x111845=Math[_0x4c01a6(0x147)](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x3dfa18=_0x36411a*GRID_HORIZON_SPREAD_FACTOR,_0x611c2f=_0x36411a*GRID_BOTTOM_SPREAD_FACTOR;for(let _0x2a9081=0x0;_0x2a9081<=_0x111845;_0x2a9081++){let _0xbd92d3=Math['pow'](_0x2a9081/_0x111845,GRID_PERSPECTIVE_POWER),_0x974d0f=_0x3530f7+_0xbd92d3*(_0x3dfa18/0x2),_0x251420=_0x3530f7-_0xbd92d3*(_0x3dfa18/0x2),_0x437be4=_0x3530f7+_0xbd92d3*(_0x611c2f/0x2),_0x14e5f7=_0x3530f7-_0xbd92d3*(_0x611c2f/0x2);retroGridCtx['moveTo'](_0x974d0f,_0x536df7),retroGridCtx[_0x4c01a6(0x11b)](_0x437be4,_0x545c90),_0x2a9081>0x0&&(retroGridCtx[_0x4c01a6(0x15c)](_0x251420,_0x536df7),retroGridCtx[_0x4c01a6(0x11b)](_0x14e5f7,_0x545c90));}retroGridCtx[_0x4c01a6(0x8a)]();}catch(_0x7e5551){console[_0x4c01a6(0xe5)](_0x4c01a6(0x10d),_0x7e5551);}}function calculateBezierPoint(_0x20fab,_0x51afa4,_0x5c7514,_0x3167df,_0x15b536){const _0x5948ec=0x1-_0x20fab,_0x174a92=_0x20fab*_0x20fab,_0x4e84a7=_0x5948ec*_0x5948ec,_0x2e68ba=_0x4e84a7*_0x5948ec,_0xa1535e=_0x174a92*_0x20fab;let _0x1f73ae=_0x2e68ba*_0x51afa4;return _0x1f73ae+=0x3*_0x4e84a7*_0x20fab*_0x5c7514,_0x1f73ae+=0x3*_0x5948ec*_0x174a92*_0x3167df,_0x1f73ae+=_0xa1535e*_0x15b536,_0x1f73ae;}function defineNormalWaveEntrancePaths(){const _0x12dfac=_0xf1d899;normalWaveEntrancePaths={};const _0x25429b=gameCanvas?.['width'],_0x155bcf=gameCanvas?.[_0x12dfac(0xe2)];if(!_0x25429b||!_0x155bcf||_0x25429b===0x0){console[_0x12dfac(0xe5)](_0x12dfac(0x14f));return;}const _0x5a21bb=_0x25429b/0x320,_0x14b39c=_0x155bcf/0x258,_0x550b5d=-Math['max'](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x4a434e=_0x25429b/0x2,_0x2e4c26=-0x19,_0x36a2f2=ENEMY_WIDTH,_0x4077ea=ENEMY_H_SPACING_FIXED,_0x32d4a0=GRID_COLS*_0x36a2f2+(GRID_COLS-0x1)*_0x4077ea,_0xc78b8c=Math[_0x12dfac(0xea)]((_0x25429b-_0x32d4a0)/0x2),_0x431fb7=_0xc78b8c+0x4*(_0x36a2f2+_0x4077ea)+_0x36a2f2/0x2,_0x443522=_0xc78b8c+0x5*(_0x36a2f2+_0x4077ea)+_0x36a2f2/0x2,_0x516608=(_0x431fb7+_0x443522)/0x2+_0x2e4c26,_0x56c9e5=Math['round'](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x59da5a=_0x56c9e5+0x3c*_0x14b39c,_0x2067ba=[{'p0':{'x':0x50/0x190*0x320*_0x5a21bb+_0x2e4c26,'y':_0x550b5d},'p1':{'x':0x1b8/0x190*0x320*_0x5a21bb+_0x2e4c26,'y':0x8c/0x12c*0x258*_0x14b39c},'p2':{'x':0x104/0x190*0x320*_0x5a21bb+_0x2e4c26,'y':0x154/0x12c*0x258*_0x14b39c},'p3':{'x':_0x516608,'y':_0x59da5a}}];normalWaveEntrancePaths[_0x12dfac(0x104)]=_0x2067ba;const _0x449c33=_0x2067ba[_0x12dfac(0x93)](_0x44b952=>({'p0':{'x':_0x25429b-(_0x44b952['p0']['x']-_0x2e4c26)+_0x2e4c26,'y':_0x44b952['p0']['y']},'p1':{'x':_0x25429b-(_0x44b952['p1']['x']-_0x2e4c26)+_0x2e4c26,'y':_0x44b952['p1']['y']},'p2':{'x':_0x25429b-(_0x44b952['p2']['x']-_0x2e4c26)+_0x2e4c26,'y':_0x44b952['p2']['y']},'p3':{'x':_0x516608,'y':_0x44b952['p3']['y']}}));normalWaveEntrancePaths[_0x12dfac(0x8d)]=_0x449c33;const _0x13afef=_0x23d660=>{const _0x2ed5ea=_0x12dfac,_0x5d4be8=_0x23d660?_0x2ed5ea(0xf1):_0x2ed5ea(0x150),_0x206618=_0x3abf73=>_0x23d660?_0x25429b-_0x3abf73:_0x3abf73,_0x4684b3=0x82*_0x14b39c,_0x1cdfd7=0x50*_0x5a21bb,_0x2cba0b=0x12c*_0x5a21bb,_0x3139cd=0x12c*_0x14b39c,_0x2fa8a4=_0x2cba0b+_0x1cdfd7,_0x2cb993=_0x3139cd,_0x15712c=_0x206618(-0x64*_0x5a21bb),_0x239b5c=(0x15e+_0x4684b3)*_0x14b39c,_0x143604=ENEMY_TOP_MARGIN-0x14,_0x15f73e={'x':_0x15712c,'y':_0x239b5c},_0x404f3f={'x':_0x206618(_0x2fa8a4),'y':_0x2cb993},_0x1b95ad={'x':_0x206618(_0x2cba0b),'y':_0x3139cd-_0x1cdfd7},_0xfcab56={'x':_0x206618(_0x2cba0b-_0x1cdfd7),'y':_0x3139cd},_0x3c02ff={'x':_0x206618(_0x2cba0b),'y':_0x3139cd+_0x1cdfd7},_0x3499fd={'x':_0x404f3f['x'],'y':_0x143604},_0x2569a5=0.25,_0x20ec89=Math[_0x2ed5ea(0xe8)](_0x404f3f['y']-_0x239b5c,_0x404f3f['x']-_0x15712c),_0x325da8={'x':_0x404f3f['x']-Math[_0x2ed5ea(0xd0)](_0x20ec89)*_0x1cdfd7*_0x2569a5,'y':_0x404f3f['y']-Math['sin'](_0x20ec89)*_0x1cdfd7*_0x2569a5},_0x24106b={'x':(_0x15f73e['x']+_0x325da8['x'])/0x2,'y':(_0x15f73e['y']+_0x325da8['y'])/0x2},_0x1b4d94={'x':_0x404f3f['x'],'y':(_0x404f3f['y']+_0x3499fd['y'])/0x2},_0x55e8cb=0.552284749831,_0x90ea8c=_0x1cdfd7*_0x55e8cb,_0xbf3863=_0x1cdfd7*_0x55e8cb;let _0x124760=[];_0x124760[_0x2ed5ea(0xd3)]({'p0':_0x15f73e,'p1':{'x':_0x15f73e['x']+(_0x24106b['x']-_0x15f73e['x'])*0.33,'y':_0x15f73e['y']+(_0x24106b['y']-_0x15f73e['y'])*0.33},'p2':{'x':_0x15f73e['x']+(_0x24106b['x']-_0x15f73e['x'])*0.66,'y':_0x15f73e['y']+(_0x24106b['y']-_0x15f73e['y'])*0.66},'p3':_0x24106b}),_0x124760[_0x2ed5ea(0xd3)]({'p0':_0x24106b,'p1':{'x':_0x24106b['x']+(_0x325da8['x']-_0x24106b['x'])*0.33,'y':_0x24106b['y']+(_0x325da8['y']-_0x24106b['y'])*0.33},'p2':{'x':_0x24106b['x']+(_0x325da8['x']-_0x24106b['x'])*0.66,'y':_0x24106b['y']+(_0x325da8['y']-_0x24106b['y'])*0.66},'p3':_0x325da8});const _0x1f9824={'x':_0x325da8['x']+(_0x325da8['x']-_0x24106b['x'])*0.3,'y':_0x325da8['y']+(_0x325da8['y']-_0x24106b['y'])*0.3},_0x402c98={'x':_0x206618(_0x2cba0b+_0x90ea8c),'y':_0x1b95ad['y']};return _0x124760[_0x2ed5ea(0xd3)]({'p0':_0x325da8,'p1':_0x1f9824,'p2':_0x402c98,'p3':_0x1b95ad}),_0x124760[_0x2ed5ea(0xd3)]({'p0':_0x1b95ad,'p1':{'x':_0x206618(_0x2cba0b-_0x90ea8c),'y':_0x1b95ad['y']},'p2':{'x':_0xfcab56['x'],'y':_0xfcab56['y']-_0xbf3863},'p3':_0xfcab56}),_0x124760[_0x2ed5ea(0xd3)]({'p0':_0xfcab56,'p1':{'x':_0xfcab56['x'],'y':_0xfcab56['y']+_0xbf3863},'p2':{'x':_0x206618(_0x2cba0b-_0x90ea8c),'y':_0x3c02ff['y']},'p3':_0x3c02ff}),_0x124760[_0x2ed5ea(0xd3)]({'p0':_0x3c02ff,'p1':{'x':_0x206618(_0x2cba0b+_0x90ea8c),'y':_0x3c02ff['y']},'p2':{'x':_0x404f3f['x'],'y':_0x404f3f['y']+_0xbf3863},'p3':_0x404f3f}),_0x124760['push']({'p0':_0x404f3f,'p1':{'x':_0x404f3f['x']+(_0x1b4d94['x']-_0x404f3f['x'])*0.33,'y':_0x404f3f['y']+(_0x1b4d94['y']-_0x404f3f['y'])*0.33},'p2':{'x':_0x404f3f['x']+(_0x1b4d94['x']-_0x404f3f['x'])*0.66,'y':_0x404f3f['y']+(_0x1b4d94['y']-_0x404f3f['y'])*0.66},'p3':_0x1b4d94}),_0x124760[_0x2ed5ea(0xd3)]({'p0':_0x1b4d94,'p1':{'x':_0x1b4d94['x']+(_0x3499fd['x']-_0x1b4d94['x'])*0.33,'y':_0x1b4d94['y']+(_0x3499fd['y']-_0x1b4d94['y'])*0.33},'p2':{'x':_0x1b4d94['x']+(_0x3499fd['x']-_0x1b4d94['x'])*0.66,'y':_0x1b4d94['y']+(_0x3499fd['y']-_0x1b4d94['y'])*0.66},'p3':_0x3499fd}),_0x124760;};normalWaveEntrancePaths[_0x12dfac(0x150)]=_0x13afef(![]),normalWaveEntrancePaths[_0x12dfac(0xf1)]=_0x13afef(!![]);const _0x1d08cb=0x2ee,_0x638b11=0x15e*_0x14b39c,_0x2aa443={'x':_0x4a434e,'y':_0x550b5d},_0x50b034={'x':(_0x4a434e+(0x2ee-0x190)*(0x2/0x3))*_0x5a21bb,'y':(-0x32+(_0x1d08cb- -0x32)*(0x2/0x3))*_0x14b39c},_0x51273f={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x5a21bb,'y':(_0x638b11+(_0x1d08cb-_0x638b11)*(0x1/0x3))*_0x14b39c},_0x420eaf={'x':_0x4a434e,'y':_0x638b11};normalWaveEntrancePaths['mid_curve_right']=[{'p0':_0x2aa443,'p1':_0x50b034,'p2':_0x51273f,'p3':_0x420eaf}];const _0x183697={'x':_0x4a434e,'y':_0x550b5d},_0x413bc6={'x':_0x25429b-_0x50b034['x'],'y':_0x50b034['y']},_0x267df7={'x':_0x25429b-_0x51273f['x'],'y':_0x51273f['y']},_0x2c8e3e={'x':_0x4a434e,'y':_0x638b11};normalWaveEntrancePaths[_0x12dfac(0xc3)]=[{'p0':_0x183697,'p1':_0x413bc6,'p2':_0x267df7,'p3':_0x2c8e3e}];for(const _0x307f00 in normalWaveEntrancePaths){if(!Array[_0x12dfac(0xb0)](normalWaveEntrancePaths[_0x307f00])){console['error']('Normal\x20Wave\x20Path\x20'+_0x307f00+_0x12dfac(0x15b)),normalWaveEntrancePaths[_0x307f00]=[{'p0':{'x':_0x25429b/0x2,'y':_0x550b5d},'p1':{'x':_0x25429b/0x2,'y':_0x155bcf/0x3},'p2':{'x':_0x25429b/0x2,'y':_0x155bcf*0x2/0x3},'p3':{'x':_0x25429b/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0x307f00]=normalWaveEntrancePaths[_0x307f00][_0x12dfac(0x154)](_0x32c13e=>_0x32c13e?.['p0']&&_0x32c13e?.['p1']&&_0x32c13e?.['p2']&&_0x32c13e?.['p3']&&typeof _0x32c13e['p0']['x']==='number'&&typeof _0x32c13e['p0']['y']===_0x12dfac(0x8f)&&typeof _0x32c13e['p1']['x']==='number'&&typeof _0x32c13e['p1']['y']===_0x12dfac(0x8f)&&typeof _0x32c13e['p2']['x']===_0x12dfac(0x8f)&&typeof _0x32c13e['p2']['y']===_0x12dfac(0x8f)&&typeof _0x32c13e['p3']['x']===_0x12dfac(0x8f)&&typeof _0x32c13e['p3']['y']===_0x12dfac(0x8f)&&!isNaN(_0x32c13e['p0']['x']+_0x32c13e['p0']['y']+_0x32c13e['p1']['x']+_0x32c13e['p1']['y']+_0x32c13e['p2']['x']+_0x32c13e['p2']['y']+_0x32c13e['p3']['x']+_0x32c13e['p3']['y'])),normalWaveEntrancePaths[_0x307f00][_0x12dfac(0x145)]===0x0&&(console[_0x12dfac(0xe5)](_0x12dfac(0x91)+_0x307f00+'\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.'),normalWaveEntrancePaths[_0x307f00]=[{'p0':{'x':_0x25429b/0x2,'y':_0x550b5d},'p1':{'x':_0x25429b/0x2,'y':_0x155bcf/0x3},'p2':{'x':_0x25429b/0x2,'y':_0x155bcf*0x2/0x3},'p3':{'x':_0x25429b/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0x1dd7af=_0xf1d899;challengingStagePaths={};const _0x4fc662=gameCanvas?.[_0x1dd7af(0xd8)],_0x40025c=gameCanvas?.[_0x1dd7af(0xe2)];if(!_0x4fc662||!_0x40025c||_0x4fc662===0x0){console[_0x1dd7af(0xe5)](_0x1dd7af(0xcc));return;}const _0xa3174c=ENEMY_WIDTH,_0xf38817=ENEMY_HEIGHT,_0x3b8af4=-_0xf38817*1.5,_0x3f1012=_0x40025c+_0xf38817*0x2,_0x176633=-_0xa3174c*1.5,_0x2333ed=_0x4fc662+_0xa3174c*1.5,_0x1cd3f5=_0x4fc662/0x2,_0x2cffac=_0x40025c/0x2,_0x3583ea=-0x1c,_0x2e744a=(_0x2f1958,_0x43b11a)=>{const _0x1a3a37=_0x1dd7af;return _0x2f1958[_0x1a3a37(0x93)](_0x4c151e=>{const _0x5244f0=_0x1a3a37,_0x269934=JSON[_0x5244f0(0x7e)](JSON[_0x5244f0(0x14a)](_0x4c151e));if(_0x269934['p0']&&typeof _0x269934['p0']['x']==='number')_0x269934['p0']['x']+=_0x43b11a;if(_0x269934['p1']&&typeof _0x269934['p1']['x']===_0x5244f0(0x8f))_0x269934['p1']['x']+=_0x43b11a;if(_0x269934['p2']&&typeof _0x269934['p2']['x']===_0x5244f0(0x8f))_0x269934['p2']['x']+=_0x43b11a;return _0x269934['p3']&&typeof _0x269934['p3']['x']===_0x5244f0(0x8f)&&_0x269934['p3']['x']!==_0x176633&&_0x269934['p3']['x']!==_0x2333ed&&(_0x269934['p3']['x']+=_0x43b11a),_0x269934;});},_0x5521e4=37.8/0x320*0.3,_0x1433f8=0.5-_0x5521e4,_0x410932=0x1c2/0x258,_0x1e7ec1=0.49,_0x279791=0x258/0x258,_0x27c0ed=0.48,_0x1818ca=0x12c/0x258,_0x5b4a76=_0x4fc662*_0x1433f8,_0x281d04=_0x40025c*_0x410932,_0x101e67=_0x4fc662*_0x1e7ec1,_0x179e3c=_0x40025c*Math[_0x1dd7af(0x12a)](0x1,_0x279791),_0x507101=_0x4fc662*_0x27c0ed,_0x208dab=_0x40025c*_0x1818ca,_0x345b40=_0x176633,_0x4e7ced=_0x3b8af4,_0x5cc541={'x':_0x5b4a76,'y':_0x3b8af4},_0x2d9430={'x':_0x5b4a76,'y':_0x281d04},_0x517e78={'x':_0x5b4a76,'y':_0x3b8af4+(_0x281d04-_0x3b8af4)*0.33},_0x6054b1={'x':_0x5b4a76,'y':_0x3b8af4+(_0x281d04-_0x3b8af4)*0.66},_0x541d4d=_0x2d9430,_0x258c27={'x':_0x101e67,'y':_0x179e3c},_0x309cc1={'x':_0x507101,'y':_0x208dab},_0x2d1cb4={'x':_0x345b40,'y':_0x4e7ced},_0x872b13=[{'p0':_0x5cc541,'p1':_0x517e78,'p2':_0x6054b1,'p3':_0x2d9430},{'p0':_0x541d4d,'p1':_0x258c27,'p2':_0x309cc1,'p3':_0x2d1cb4}],_0x1ecc53=_0x872b13['map'](_0x4465f2=>({'p0':{'x':_0x4fc662-_0x4465f2['p0']['x'],'y':_0x4465f2['p0']['y']},'p1':{'x':_0x4fc662-_0x4465f2['p1']['x'],'y':_0x4465f2['p1']['y']},'p2':{'x':_0x4fc662-_0x4465f2['p2']['x'],'y':_0x4465f2['p2']['y']},'p3':{'x':_0x4465f2['p3']['x']===_0x176633?_0x2333ed:_0x4fc662-_0x4465f2['p3']['x'],'y':_0x4465f2['p3']['y']}}));challengingStagePaths[_0x1dd7af(0xe9)]=_0x2e744a(_0x872b13,_0x3583ea),challengingStagePaths[_0x1dd7af(0xb2)]=_0x2e744a(_0x1ecc53,_0x3583ea);const _0xbae3ba=_0x40025c*0.7,_0x1453fd=_0x40025c*0.03,_0x13587f=_0x4fc662*0.15;challengingStagePaths['CS_HorizontalFlyByL']=[{'p0':{'x':_0x176633,'y':_0xbae3ba},'p1':{'x':_0x176633+_0x13587f,'y':_0xbae3ba-_0x1453fd},'p2':{'x':_0x2333ed-_0x13587f,'y':_0xbae3ba+_0x1453fd},'p3':{'x':_0x2333ed,'y':_0xbae3ba}}],challengingStagePaths['CS_HorizontalFlyByR']=[{'p0':{'x':_0x2333ed,'y':_0xbae3ba},'p1':{'x':_0x2333ed-_0x13587f,'y':_0xbae3ba-_0x1453fd},'p2':{'x':_0x176633+_0x13587f,'y':_0xbae3ba+_0x1453fd},'p3':{'x':_0x176633,'y':_0xbae3ba}}];const _0x4736e1=_0x40025c*0.8,_0x20ec50=_0x40025c*0.55,_0x23a958=_0x40025c*0.15;challengingStagePaths[_0x1dd7af(0xe0)]=[{'p0':{'x':_0x4fc662*0.1,'y':_0x3b8af4},'p1':{'x':_0x4fc662*0.2,'y':_0x40025c*0.2},'p2':{'x':_0x4fc662*0.6,'y':_0x4736e1},'p3':{'x':_0x4fc662*0.7,'y':_0x4736e1}},{'p0':{'x':_0x4fc662*0.7,'y':_0x4736e1},'p1':{'x':_0x4fc662*0.8,'y':_0x4736e1},'p2':{'x':_0x4fc662*0.8,'y':_0x20ec50},'p3':{'x':_0x4fc662*0.7,'y':_0x20ec50}},{'p0':{'x':_0x4fc662*0.7,'y':_0x20ec50},'p1':{'x':_0x4fc662*0.6,'y':_0x20ec50},'p2':{'x':_0x2333ed,'y':_0x23a958},'p3':{'x':_0x2333ed,'y':_0x23a958+_0x40025c*0.1}}],challengingStagePaths['CS_LoopAttack_TR']=[{'p0':{'x':_0x4fc662*0.9,'y':_0x3b8af4},'p1':{'x':_0x4fc662*0.8,'y':_0x40025c*0.2},'p2':{'x':_0x4fc662*0.4,'y':_0x4736e1},'p3':{'x':_0x4fc662*0.3,'y':_0x4736e1}},{'p0':{'x':_0x4fc662*0.3,'y':_0x4736e1},'p1':{'x':_0x4fc662*0.2,'y':_0x4736e1},'p2':{'x':_0x4fc662*0.2,'y':_0x20ec50},'p3':{'x':_0x4fc662*0.3,'y':_0x20ec50}},{'p0':{'x':_0x4fc662*0.3,'y':_0x20ec50},'p1':{'x':_0x4fc662*0.4,'y':_0x20ec50},'p2':{'x':_0x176633,'y':_0x23a958},'p3':{'x':_0x176633,'y':_0x23a958+_0x40025c*0.1}}],challengingStagePaths['CS_LoopAttack_BL']=[{'p0':{'x':_0x176633,'y':_0x40025c*0.6},'p1':{'x':_0x4fc662*0.1,'y':_0x40025c*0.4},'p2':{'x':_0x4fc662*0.6,'y':_0x40025c*0.2},'p3':{'x':_0x1cd3f5,'y':_0x40025c*0.3}},{'p0':{'x':_0x1cd3f5,'y':_0x40025c*0.3},'p1':{'x':_0x4fc662*0.4,'y':_0x40025c*0.4},'p2':{'x':_0x4fc662*0.3,'y':_0x4736e1*0.9},'p3':{'x':_0x4fc662*0.4,'y':_0x4736e1}},{'p0':{'x':_0x4fc662*0.4,'y':_0x4736e1},'p1':{'x':_0x4fc662*0.5,'y':_0x4736e1*1.05},'p2':{'x':_0x1cd3f5,'y':_0x3b8af4},'p3':{'x':_0x1cd3f5+_0x4fc662*0.1,'y':_0x3b8af4}}],challengingStagePaths[_0x1dd7af(0x162)]=[{'p0':{'x':_0x2333ed,'y':_0x40025c*0.6},'p1':{'x':_0x4fc662*0.9,'y':_0x40025c*0.4},'p2':{'x':_0x4fc662*0.4,'y':_0x40025c*0.2},'p3':{'x':_0x1cd3f5,'y':_0x40025c*0.3}},{'p0':{'x':_0x1cd3f5,'y':_0x40025c*0.3},'p1':{'x':_0x4fc662*0.6,'y':_0x40025c*0.4},'p2':{'x':_0x4fc662*0.7,'y':_0x4736e1*0.9},'p3':{'x':_0x4fc662*0.6,'y':_0x4736e1}},{'p0':{'x':_0x4fc662*0.6,'y':_0x4736e1},'p1':{'x':_0x4fc662*0.5,'y':_0x4736e1*1.05},'p2':{'x':_0x1cd3f5,'y':_0x3b8af4},'p3':{'x':_0x1cd3f5-_0x4fc662*0.1,'y':_0x3b8af4}}];for(const _0x52168e in challengingStagePaths){challengingStagePaths[_0x52168e]=challengingStagePaths[_0x52168e][_0x1dd7af(0x154)](_0x1a749a=>_0x1a749a?.['p0']&&_0x1a749a?.['p1']&&_0x1a749a?.['p2']&&_0x1a749a?.['p3']&&!isNaN(_0x1a749a['p0']['x']+_0x1a749a['p0']['y']+_0x1a749a['p1']['x']+_0x1a749a['p1']['y']+_0x1a749a['p2']['x']+_0x1a749a['p2']['y']+_0x1a749a['p3']['x']+_0x1a749a['p3']['y'])),challengingStagePaths[_0x52168e][_0x1dd7af(0x145)]===0x0&&(console[_0x1dd7af(0xe5)](_0x1dd7af(0x114)+_0x52168e+'\x20empty\x20after\x20validation!\x20Adding\x20fallback.'),challengingStagePaths[_0x52168e]=[{'p0':{'x':_0x4fc662/0x2,'y':_0x3b8af4},'p1':{'x':_0x4fc662/0x2,'y':_0x40025c/0x3},'p2':{'x':_0x4fc662/0x2,'y':_0x40025c*0x2/0x3},'p3':{'x':_0x4fc662/0x2,'y':_0x3f1012}}]);}}function resizeCanvases(){const _0x58cc8a=_0xf1d899;try{const _0xa9da46=window[_0x58cc8a(0x15e)],_0xe41bcc=window['innerHeight'];if(_0xa9da46<=0x0||_0xe41bcc<=0x0)return;starrySkyCanvas&&(starrySkyCanvas[_0x58cc8a(0xd8)]!==_0xa9da46||starrySkyCanvas[_0x58cc8a(0xe2)]!==_0xe41bcc)&&(starrySkyCanvas[_0x58cc8a(0xd8)]=_0xa9da46,starrySkyCanvas[_0x58cc8a(0xe2)]=_0xe41bcc,createStars());retroGridCanvas&&(retroGridCanvas[_0x58cc8a(0xd8)]!==_0xa9da46||retroGridCanvas['height']!==_0xe41bcc)&&(retroGridCanvas[_0x58cc8a(0xd8)]=_0xa9da46,retroGridCanvas[_0x58cc8a(0xe2)]=_0xe41bcc);if(gameCanvas&&(gameCanvas[_0x58cc8a(0xd8)]!==_0xa9da46||gameCanvas[_0x58cc8a(0xe2)]!==_0xe41bcc)){const _0x458018=gameCanvas['width'];gameCanvas[_0x58cc8a(0xd8)]=_0xa9da46,gameCanvas[_0x58cc8a(0xe2)]=_0xe41bcc,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0x458018,_0xa9da46,_0xe41bcc);}else(!gameCanvas?.[_0x58cc8a(0xd8)]||!gameCanvas?.[_0x58cc8a(0xe2)])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0x7f012){console[_0x58cc8a(0xe5)]('Error\x20in\x20resizeCanvases:',_0x7f012);}}function handleResizeGameElements(_0x1a4f76,_0x4a6aec,_0x492685){const _0x4551ed=_0xf1d899;try{currentGridOffsetX=0x0,ship&&(_0x1a4f76>0x0&&_0x4a6aec>0x0&&typeof ship['x']!==_0x4551ed(0x10b)?ship['x']=ship['x']/_0x1a4f76*_0x4a6aec:ship['x']=_0x4a6aec/0x2-ship['width']/0x2,ship['x']=Math[_0x4551ed(0xd4)](0x0,Math[_0x4551ed(0x12a)](_0x4a6aec-ship[_0x4551ed(0xd8)],ship['x'])),ship['y']=_0x492685-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship['targetX']=ship['x']),enemies[_0x4551ed(0xf9)](_0x5ae8b8=>{const _0x420a6c=_0x4551ed;if(_0x5ae8b8&&(_0x5ae8b8['state']==='in_grid'||_0x5ae8b8[_0x420a6c(0x129)]===_0x420a6c(0x128)||_0x5ae8b8[_0x420a6c(0x129)]===_0x420a6c(0xeb)))try{const _0x5e65c4=_0x5ae8b8[_0x420a6c(0xdc)]===ENEMY3_TYPE?BOSS_WIDTH:_0x5ae8b8[_0x420a6c(0xdc)]===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x1b81f1,y:_0x1eab25}=getCurrentGridSlotPosition(_0x5ae8b8[_0x420a6c(0x9b)],_0x5ae8b8[_0x420a6c(0x120)],_0x5e65c4);_0x5ae8b8[_0x420a6c(0x8e)]=_0x1b81f1,_0x5ae8b8[_0x420a6c(0x13a)]=_0x1eab25,_0x5ae8b8[_0x420a6c(0x129)]===_0x420a6c(0xdf)&&(_0x5ae8b8['x']=_0x1b81f1,_0x5ae8b8['y']=_0x1eab25);}catch(_0x47ca33){console[_0x420a6c(0xe5)]('Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20'+_0x5ae8b8['id']+_0x420a6c(0xf6),_0x47ca33),(_0x5ae8b8[_0x420a6c(0x129)]==='in_grid'||_0x5ae8b8['state']===_0x420a6c(0xeb)||_0x5ae8b8[_0x420a6c(0x129)]===_0x420a6c(0x128))&&(_0x5ae8b8['x']=_0x4a6aec/0x2,_0x5ae8b8['y']=ENEMY_TOP_MARGIN+_0x5ae8b8[_0x420a6c(0x9b)]*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0x5ae8b8[_0x420a6c(0x8e)]=_0x5ae8b8['x'],_0x5ae8b8[_0x420a6c(0x13a)]=_0x5ae8b8['y']);}});}catch(_0x78aa3b){console[_0x4551ed(0xe5)](_0x4551ed(0x13e),_0x78aa3b);}}function handleKeyDown(_0x4bf798){const _0x43da62=_0xf1d899;try{const _0x2feca7=['\x20',_0x43da62(0xc2),_0x43da62(0x126),_0x43da62(0x100),_0x43da62(0xa7),'Enter',_0x43da62(0x89),'w','a','s','d','p','P','j','J','l','L','i','I','Numpad4',_0x43da62(0x92),_0x43da62(0x159)];(_0x2feca7[_0x43da62(0xb9)](_0x4bf798[_0x43da62(0x12f)])||_0x2feca7['includes'](_0x4bf798[_0x43da62(0x103)]))&&_0x4bf798[_0x43da62(0x15f)]();let _0x5db530=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x5db530=!![]);if(_0x5db530)return;if(isInGameState){if((_0x4bf798[_0x43da62(0x12f)]==='p'||_0x4bf798['key']==='P')&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){if(typeof togglePause===_0x43da62(0x136))togglePause();return;}if(!isPaused){if(playerLives>0x0){if(!isManualControl){if(_0x4bf798[_0x43da62(0x12f)]==='Escape'||_0x4bf798[_0x43da62(0x12f)]===_0x43da62(0x151)){if(typeof stopGameAndShowMenu===_0x43da62(0x136))stopGameAndShowMenu();}else{if(!_0x4bf798[_0x43da62(0xd5)]&&!_0x4bf798['ctrlKey']&&!_0x4bf798[_0x43da62(0xbf)]&&!_0x4bf798[_0x43da62(0xc9)]){if(typeof showMenuState===_0x43da62(0x136))showMenuState();}}}else{switch(_0x4bf798[_0x43da62(0x103)]){case _0x43da62(0x100):case'KeyA':keyboardP1LeftDown=!![];break;case _0x43da62(0xa7):case _0x43da62(0x12d):keyboardP1RightDown=!![];break;case _0x43da62(0x85):case _0x43da62(0xc2):case _0x43da62(0x83):keyboardP1ShootDown=!![];break;case _0x43da62(0xb8):if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0x43da62(0xaf):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case _0x43da62(0x13d):if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case'Numpad4':if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0x43da62(0x92):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case _0x43da62(0x159):if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case'Escape':case _0x43da62(0x151):if(typeof stopGameAndShowMenu===_0x43da62(0x136))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&_0x4bf798['key']==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&_0x4bf798[_0x43da62(0x12f)]==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&_0x4bf798[_0x43da62(0x12f)]==='i')keyboardP2ShootDown=!![];}}}}else{if(isShowingScoreScreen){if(!_0x4bf798[_0x43da62(0xd5)]&&!_0x4bf798['ctrlKey']&&!_0x4bf798[_0x43da62(0xbf)]&&!_0x4bf798[_0x43da62(0xc9)]&&_0x4bf798['key']!=='p'&&_0x4bf798[_0x43da62(0x12f)]!=='P'){if(typeof showMenuState===_0x43da62(0x136))showMenuState();return;}}else{stopAutoDemoTimer();switch(_0x4bf798[_0x43da62(0x12f)]){case'ArrowUp':case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case'ArrowDown':case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case _0x43da62(0x151):case'\x20':if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x43da62(0xb3):selectedFiringMode=_0x43da62(0xfc),baseStartGame(!![]);else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else selectedButtonIndex===0x1&&exitGame();}}break;case _0x43da62(0x89):if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer()):exitGame();break;default:startAutoDemoTimer();break;}}}}catch(_0x3c40ec){console['error'](_0x43da62(0xb7),_0x3c40ec),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function handleKeyUp(_0x5f1645){const _0x55f67b=_0xf1d899;try{switch(_0x5f1645['code']){case _0x55f67b(0x100):case _0x55f67b(0x86):keyboardP1LeftDown=![];break;case _0x55f67b(0xa7):case _0x55f67b(0x12d):keyboardP1RightDown=![];break;case _0x55f67b(0x85):case _0x55f67b(0xc2):case _0x55f67b(0x83):keyboardP1ShootDown=![];break;case'KeyJ':keyboardP2LeftDown=![];break;case _0x55f67b(0xaf):keyboardP2RightDown=![];break;case'KeyI':keyboardP2ShootDown=![];break;case _0x55f67b(0x87):keyboardP2LeftDown=![];break;case'Numpad6':keyboardP2RightDown=![];break;case _0x55f67b(0x159):keyboardP2ShootDown=![];break;}if(keyboardP2LeftDown&&_0x5f1645[_0x55f67b(0x12f)]==='j')keyboardP2LeftDown=![];if(keyboardP2RightDown&&_0x5f1645[_0x55f67b(0x12f)]==='l')keyboardP2RightDown=![];if(keyboardP2ShootDown&&_0x5f1645['key']==='i')keyboardP2ShootDown=![];}catch(_0x4b6638){console[_0x55f67b(0xe5)](_0x55f67b(0x155),_0x4b6638),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![];}}function handleGamepadConnected(_0x31488e){const _0x246571=_0xf1d899;try{if(connectedGamepadIndex===null){connectedGamepadIndex=_0x31488e[_0x246571(0x10e)]['index'];const _0x170d79=_0x31488e[_0x246571(0x10e)][_0x246571(0xf0)][_0x246571(0x145)];previousButtonStates=new Array(_0x170d79)[_0x246571(0xdb)](![]),previousDemoButtonStates=new Array(_0x170d79)[_0x246571(0xdb)](![]),previousGameButtonStates=new Array(_0x170d79)[_0x246571(0xdb)](![]),!isInGameState&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x31488e[_0x246571(0x10e)]['index'];const _0x260f28=_0x31488e[_0x246571(0x10e)][_0x246571(0xf0)]['length'];previousGameButtonStatesP2=new Array(_0x260f28)[_0x246571(0xdb)](![]);}}}catch(_0x584703){console[_0x246571(0xe5)](_0x246571(0xda),_0x584703);}}function handleGamepadDisconnected(_0x4c003d){const _0x57cb95=_0xf1d899;try{if(connectedGamepadIndex===_0x4c003d['gamepad'][_0x57cb95(0x14c)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x4c003d[_0x57cb95(0x10e)][_0x57cb95(0x14c)]&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0x2d7fa9){console[_0x57cb95(0xe5)](_0x57cb95(0x119),_0x2d7fa9),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x551013=_0xf1d899;try{let _0x8f97dc=0x0;isTwoPlayerMode?_0x8f97dc=Math[_0x551013(0xd4)](player1Score,player2Score):_0x8f97dc=score,isManualControl&&_0x8f97dc>highScore&&(highScore=_0x8f97dc);}catch(_0x241ed7){console[_0x551013(0xe5)]('Error\x20in\x20saveHighScore:',_0x241ed7);}}function loadHighScore(){const _0xb38a51=_0xf1d899;try{highScore=0x4e20;}catch(_0x57cf44){console[_0xb38a51(0xe5)](_0xb38a51(0x13f),_0x57cf44),highScore=0x4e20;}}function muteAllSounds(){const _0x178d56=_0xf1d899;audioCtx&&masterGainNode&&(previousMasterGain=masterGainNode[_0x178d56(0xc5)]['value'],masterGainNode['gain']['setTargetAtTime'](0x0,audioCtx['currentTime'],0.01));for(const _0x534ecd in playingLoopSources){stopSound(_0x534ecd);}isGridSoundPlaying=![];}function unmuteAllSounds(){const _0x20a342=_0xf1d899;audioCtx&&masterGainNode&&masterGainNode[_0x20a342(0xc5)]['setTargetAtTime'](previousMasterGain,audioCtx[_0x20a342(0xd6)],0.01),!isInGameState&&typeof menuMusicSound!=='undefined'&&playSound(menuMusicSound,!![]),isInGameState&&!isChallengingStage&&enemies[_0x20a342(0x124)](_0x9fa1b0=>_0x9fa1b0?.[_0x20a342(0x129)]==='in_grid')&&playSound(gridBackgroundSound,!![]),isShowingResultsScreen&&playSound(resultsMusicSound,!![]);}function togglePause(){const _0x219ce2=_0xf1d899;if(!isInGameState||playerLives<=0x0||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)return;isPaused=!isPaused;if(isPaused){muteAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(gameCanvas)gameCanvas['style'][_0x219ce2(0x156)]=_0x219ce2(0xf2);}else unmuteAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function processSingleController(_0x419d02,_0x1e4b1d){const _0x2e67ca=_0xf1d899,_0x17e555=_0x419d02['buttons']['map'](_0x1aec93=>_0x1aec93['pressed']),_0x211c5c={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0x17e555[_0x2e67ca(0x10f)]()},_0x5b1abf=_0x17e555[PS5_BUTTON_CROSS],_0x39d8a7=_0x17e555[PS5_BUTTON_R1],_0x1243ee=_0x1e4b1d[PS5_BUTTON_R1]??![],_0x29ca6c=_0x17e555[PS5_BUTTON_TRIANGLE],_0x597505=_0x1e4b1d[PS5_BUTTON_TRIANGLE]??![],_0x2fe57b=_0x419d02[_0x2e67ca(0x160)][PS5_LEFT_STICK_X]??0x0,_0x2f432b=_0x17e555[PS5_DPAD_LEFT],_0x2d17e4=_0x17e555[PS5_DPAD_RIGHT],_0x27ddef=AXIS_DEAD_ZONE_GAMEPLAY;if(_0x2fe57b<-_0x27ddef||_0x2f432b)_0x211c5c[_0x2e67ca(0x121)]=!![];else(_0x2fe57b>_0x27ddef||_0x2d17e4)&&(_0x211c5c[_0x2e67ca(0xe1)]=!![]);return _0x5b1abf&&(_0x211c5c[_0x2e67ca(0x94)]=!![]),_0x39d8a7&&!_0x1243ee&&(_0x211c5c[_0x2e67ca(0x115)]=!![]),_0x29ca6c&&!_0x597505&&(_0x211c5c['back']=!![]),_0x211c5c;}function triggerFinalGameOverSequence(){const _0x1dc636=_0xf1d899;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();stopSound(gridBackgroundSound),stopSound(menuMusicSound),stopSound(resultsMusicSound),stopSound(captureSound),stopSound(entranceSound),isGridSoundPlaying=![];const _0x2f1d02=Date[_0x1dc636(0x110)]();!isTwoPlayerMode?(playSound(gameOverSound),gameOverSequenceStartTime=_0x2f1d02):(gameOverSequenceStartTime=_0x2f1d02-GAME_OVER_DURATION,playSound(resultsMusicSound,!![]),isShowingResultsScreen=!![]),bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}
const _0x136834=_0x590b;(function(_0x177c65,_0xe8507e){const _0x3c34dd=_0x590b,_0x29465=_0x177c65();while(!![]){try{const _0x1b1e52=-parseInt(_0x3c34dd(0x8b))/0x1*(parseInt(_0x3c34dd(0x10e))/0x2)+parseInt(_0x3c34dd(0x80))/0x3*(-parseInt(_0x3c34dd(0x7f))/0x4)+parseInt(_0x3c34dd(0x119))/0x5*(parseInt(_0x3c34dd(0xab))/0x6)+-parseInt(_0x3c34dd(0xdc))/0x7+-parseInt(_0x3c34dd(0xc3))/0x8+-parseInt(_0x3c34dd(0xa9))/0x9*(-parseInt(_0x3c34dd(0x122))/0xa)+parseInt(_0x3c34dd(0xeb))/0xb;if(_0x1b1e52===_0xe8507e)break;else _0x29465['push'](_0x29465['shift']());}catch(_0x59f1a8){_0x29465['push'](_0x29465['shift']());}}}(_0x1fdf,0xcc39c));const ENEMY1_TYPE=_0x136834(0xe4),ENEMY2_TYPE='enemy2',ENEMY3_TYPE=_0x136834(0x13a),ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math['round'](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math[_0x136834(0x110)](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math['round'](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0x136834(0x110)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5;let audioCtx,masterGainNode,previousMasterGain=0.5,audioBuffers={},playingLoopSources={};const SOUND_PATHS={'PLAYER_SHOOT':_0x136834(0x13e),'ENEMY_SHOOT':_0x136834(0xf4),'EXPLOSION':'Geluiden/kill.mp3','GAME_OVER':_0x136834(0x8d),'LOST_LIFE':_0x136834(0x148),'ENTRANCE':_0x136834(0xc9),'BOSS_DIVE':_0x136834(0x77),'LEVEL_UP':'Geluiden/LevelUp.mp3','BUTTERFLY_DIVE':_0x136834(0x7b),'START_GAME':_0x136834(0x136),'COIN':_0x136834(0x102),'BEE_HIT':'Geluiden/Bees-hit.mp3','BUTTERFLY_HIT':_0x136834(0x6e),'BOSS_HIT_1':_0x136834(0x143),'BOSS_HIT_2':_0x136834(0x10f),'GRID_BACKGROUND':_0x136834(0x86),'EXTRA_LIFE':_0x136834(0x65),'CS_PERFECT':_0x136834(0x144),'CS_CLEAR':_0x136834(0x120),'WAVE_UP':_0x136834(0x68),'MENU_MUSIC':'Geluiden/Menu-music.mp3','READY':_0x136834(0x113),'TRIPLE_ATTACK':_0x136834(0xe8),'CAPTURE':'Geluiden/Capture.mp3','SHIP_CAPTURED':_0x136834(0x8a),'DUAL_SHIP':_0x136834(0x102),'RESULTS_MUSIC':_0x136834(0xe6),'HI_SCORE':'Geluiden/hi-score.mp3'};let soundVolumes={'PLAYER_SHOOT':0x1,'ENEMY_SHOOT':0.7,'EXPLOSION':0.9,'GAME_OVER':0.8,'LOST_LIFE':0.9,'ENTRANCE':0.6,'BOSS_DIVE':0.7,'LEVEL_UP':0.8,'BUTTERFLY_DIVE':0.6,'START_GAME':0.7,'COIN':0.9,'BEE_HIT':0.8,'BUTTERFLY_HIT':0.8,'BOSS_HIT_1':0.9,'BOSS_HIT_2':0x1,'GRID_BACKGROUND':0.35,'EXTRA_LIFE':0.9,'CS_PERFECT':0x1,'CS_CLEAR':0.8,'WAVE_UP':0.7,'MENU_MUSIC':0.45,'READY':0.7,'TRIPLE_ATTACK':0.8,'CAPTURE':0.7,'SHIP_CAPTURED':0x1,'DUAL_SHIP':0.9,'RESULTS_MUSIC':0.5,'HI_SCORE':0x1};const playerShootSound=_0x136834(0x10d),enemyShootSound='ENEMY_SHOOT',explosionSound=_0x136834(0xd6),gameOverSound=_0x136834(0x128),lostLifeSound='LOST_LIFE',entranceSound=_0x136834(0xb6),bossGalagaDiveSound=_0x136834(0x12c),levelUpSound=_0x136834(0xd4),butterflyDiveSound=_0x136834(0x78),startSound=_0x136834(0x6c),coinSound='COIN',beeHitSound=_0x136834(0x137),butterflyHitSound=_0x136834(0x98),bossHit1Sound=_0x136834(0xbf),bossHit2Sound='BOSS_HIT_2',gridBackgroundSound=_0x136834(0xca),extraLifeSound=_0x136834(0x6d),csPerfectSound='CS_PERFECT',csClearSound=_0x136834(0x79),waveUpSound=_0x136834(0x131),menuMusicSound=_0x136834(0x118),readySound=_0x136834(0x9c),tripleAttackSound=_0x136834(0xb4),captureSound=_0x136834(0xae),shipCapturedSound='SHIP_CAPTURED',dualShipSound='DUAL_SHIP',resultsMusicSound=_0x136834(0x132),hiScoreSound='HI_SCORE';let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isFiringModeSelectMode=![],selectedFiringMode=_0x136834(0xc1),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isPlayerSelectMode=![],isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',forceCenterShipNextReset=![],isShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],respawnTime=0x0,isInvincible=![],invincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0},leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0;csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],isTouching=![],touchCurrentX=0x0,isDraggingShip=![],shipTouchOffsetX=0x0,lastTapTime=0x0;const TAP_DURATION_THRESHOLD=0xfa;let touchJustFiredSingle=![];const MIN_DRAG_DISTANCE_FOR_TAP_CANCEL=0xa,MIN_DRAG_TIME_FOR_TAP_CANCEL=0x50;let touchStartX=0x0,isTouchFiringActive=![];const shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage['src']=_0x136834(0xcc),beeImage['src']=_0x136834(0x12e),bulletImage[_0x136834(0x106)]=_0x136834(0xbc),bossGalagaImage[_0x136834(0x106)]=_0x136834(0x89),butterflyImage[_0x136834(0x106)]=_0x136834(0x7c),logoImage[_0x136834(0x106)]='Afbeeldingen/Logo.png',enemyBulletImage[_0x136834(0x106)]=_0x136834(0x12a);const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2['src']='Afbeeldingen/bee-2.png',butterflyImage2['src']='Afbeeldingen/butterfly-2.png',bossGalagaImage2[_0x136834(0x106)]=_0x136834(0x9d);const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image[_0x136834(0x106)]='Afbeeldingen/Level-1.png',level5Image['src']='Afbeeldingen/Level-5.png',level10Image[_0x136834(0x106)]='Afbeeldingen/Level-10.png',level20Image[_0x136834(0x106)]=_0x136834(0xfe),level30Image[_0x136834(0x106)]=_0x136834(0x12d),level50Image[_0x136834(0x106)]=_0x136834(0x71);function _0x1fdf(){const _0x1dc28a=['new_path_left','gain','rgba(220,\x20220,\x20255,\x200.6)','stop','resume','setTargetAtTime','CS\x20Path\x20','default','ArrowUp','BUTTERFLY_HIT','AudioContext','Error\x20in\x20loadHighScore:','key','READY','Afbeeldingen/bossGalaga-2.png','undefined','includes','\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.','Error\x20loading\x20critical\x20canvas\x20elements.','gameCanvas','radius','rgba(255,\x20150,\x20150,\x200.55)','getContext','Error\x20resuming\x20AudioContext:','message','buttons','27TssTJC','index','57084gTRIjs','cyan','pressed','CAPTURE','retroGridCanvas','map','\x20on\x20resize:','Space','targetX','TRIPLE_ATTACK','metaKey','ENTRANCE','mid_curve_right','forEach','Numpad6','ArrowLeft','boss_loop_right','Afbeeldingen/bullet.png','onerror','ctrlKey','BOSS_HIT_1','source','rapid','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','10438048kIbKKK','filter','createBufferSource','gainNode','strokeStyle','Error\x20in\x20drawStars:','Geluiden/Entree.mp3','GRID_BACKGROUND','gridRow','Afbeeldingen/spaceship.png','KeyA','gamepad','length','single','msRequestFullscreen','Error\x20in\x20handleGamepadDisconnected:','loop','LEVEL_UP','fullscreenElement','EXPLOSION','random','Error\x20in\x20resizeCanvases:','code','targetGridY','beginPath','10725190OhDRpY','right','width','Error\x20handling\x20game\x20resize\x20specifics:','toFixed','webkitRequestFullscreen','rgba(255,\x20255,\x20180,\x200.9)','pause','enemy1','ArrowRight','Geluiden/results-music.mp3','CS_LoopAttack_BR','Geluiden/Triple.mp3','Error\x20in\x20stopSound\x20for\x20','mid_curve_left','38644320XzrCIM','pow','in_grid','Fullscreen\x20error:\x20','moving_to_grid','XMLHttpRequest\x20error\x20loading\x20audio\x20file:\x20','lineWidth','resize','min','Geluiden/Fire-enemy.mp3','Escape','buffer','decodeAudioData','FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!','left','push','Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20','lineTo','documentElement','Afbeeldingen/Level-20.png','max','send','alphaChange','Geluiden/coin.mp3','bold\x2012px\x20\x27Press\x20Start\x202P\x27','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','stroke','src','preventDefault','axes','Error\x20in\x20playSound\x20for\x20','CS_HorizontalFlyByR','onload','innerHeight','PLAYER_SHOOT','14356lARCzy','Geluiden/Boss-hit2.mp3','round','sin','disconnect','Geluiden/ready.mp3','back','CS_LoopAttack_BL','Fullscreen\x20error\x20(FF):\x20','state','MENU_MUSIC','445TGKCpC','KeyJ','now','new_path_right','fillStyle','moveTo','gamepadconnected','Geluiden/CS-Clear.mp3','error','2776680ElcbAF','CS3_DiveLoopR_Sharp','number','shoot','Error\x20in\x20handleKeyDown:','boss_loop_left','GAME_OVER','slice','Afbeeldingen/bullet-enemy.png','shiftKey','BOSS_DIVE','Afbeeldingen/Level-30.png','Afbeeldingen/bee.png','KeyW','Enter','WAVE_UP','RESULTS_MUSIC','createGain','suspended','cursor','Geluiden/Start.mp3','BEE_HIT','parse','response','enemy3','Error\x20loading\x20image:\x20','mozRequestFullScreen','some','Geluiden/firing.mp3','innerWidth','arraybuffer','clearRect','Error\x20in\x20drawRetroGrid:','Geluiden/Boss-hit1.mp3','Geluiden/CS-Stage-Perfect-.mp3','altKey','\x20empty\x20after\x20validation!\x20Adding\x20fallback.','alpha','Geluiden/lost-live.mp3','open','Geluiden/Extra-Leven.mp3','starrySkyCanvas','type','Geluiden/Waveup.mp3','returning','start','rgba(','START_GAME','EXTRA_LIFE','Geluiden/Butterfly-hit.mp3','height','fill','Afbeeldingen/Level-50.png','Numpad0','targetGridX','addEventListener','100,\x20180,\x20255','responseType','Geluiden/Enemy2.mp3','BUTTERFLY_DIVE','CS_CLEAR','Fullscreen\x20error\x20(MS):\x20','Geluiden/flying.mp3','Afbeeldingen/butterfly.png','ArrowDown','Numpad4','5647064IrvdhS','3ncgOwU','gamepaddisconnected','GET','value','getElementById','function','Geluiden/Achtergrond-grid.mp3','catch','connect','Afbeeldingen/bossGalaga.png','Geluiden/Capture-ship.mp3','15UKREWy','AudioContext\x20not\x20initialized.\x20Cannot\x20load\x20audio\x20buffer.','Geluiden/gameover.mp3','Error\x20in\x20handleKeyUp:'];_0x1fdf=function(){return _0x1dc28a;};return _0x1fdf();}const BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0xe,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0x4,MAX_MAX_ATTACKING_ENEMIES=0xa,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.95,MAX_ENEMY_AIM_FACTOR=0.1,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,BASE_GRID_FIRE_INTERVAL=0x7d0,MIN_GRID_FIRE_INTERVAL=0x320,BASE_GRID_FIRE_PROBABILITY=0.05,MAX_GRID_FIRE_PROBABILITY=0.15,BASE_GRID_MAX_FIRING_ENEMIES=0x5,MAX_GRID_MAX_FIRING_ENEMIES=0xf,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART=_0x136834(0x75),GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED=_0x136834(0x6b)+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,ENTRANCE_SQUADRON_FIRE_DELAY_MS=0x5dc,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START='rgba(180,\x20180,\x20255,\x200.1)',CAPTURE_BEAM_COLOR_END=_0x136834(0x91),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR=_0x136834(0xa4),CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT=_0x136834(0x103),FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID='cyan',FLOATING_SCORE_COLOR_ACTIVE='red',FLOATING_SCORE_COLOR_CS_CHAIN=_0x136834(0xac),CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0xc,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=0x5,HIT_SPARK_SIZE=0x3,HIT_SPARK_COLOR=_0x136834(0xe2),HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.8,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*2.2,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.1,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.1,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,AI_CAPTURE_PREVENTION_TIME_MS=0xbb8,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0xbb8,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':_0x136834(0x8f),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x136834(0x8f)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x136834(0x8f)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x136834(0x8f)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':'new_path_left'}]},{'pathId':_0x136834(0x11c),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x136834(0x11c)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x136834(0x11c)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':'new_path_right'}]},{'pathId':_0x136834(0x127),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x136834(0x127),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x136834(0x127),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x136834(0x127)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x136834(0x127)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x136834(0x127),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x136834(0x127)}]},{'pathId':'boss_loop_right','enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x136834(0xbb)}]},{'pathId':_0x136834(0xea),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x136834(0xea)}]},{'pathId':_0x136834(0xb7),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':'mid_curve_right'}]}],[{'pathId':_0x136834(0x8f),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x136834(0x8f)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x136834(0x8f)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x136834(0x8f)}]},{'pathId':_0x136834(0x11c),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x136834(0x11c)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':_0x136834(0x11c)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':_0x136834(0x11c)}]},{'pathId':_0x136834(0x127),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x136834(0x127),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x136834(0x127)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':'boss_loop_left'},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':_0x136834(0x127),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x136834(0x127),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x136834(0x127)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x136834(0x127)}]},{'pathId':_0x136834(0xbb),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x136834(0xbb)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x136834(0xbb)}]},{'pathId':_0x136834(0xea),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x136834(0xea)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x136834(0xea)}]},{'pathId':'mid_curve_right','enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x136834(0xb7)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x136834(0xb7)}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=0x5,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function initializeDOMElements(){const _0x93ae4c=_0x136834;starrySkyCanvas=document[_0x93ae4c(0x84)](_0x93ae4c(0x66)),starryCtx=starrySkyCanvas?.[_0x93ae4c(0xa5)]('2d'),retroGridCanvas=document[_0x93ae4c(0x84)](_0x93ae4c(0xaf)),retroGridCtx=retroGridCanvas?.[_0x93ae4c(0xa5)]('2d'),gameCanvas=document[_0x93ae4c(0x84)](_0x93ae4c(0xa2)),gameCtx=gameCanvas?.[_0x93ae4c(0xa5)]('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console['error'](_0x93ae4c(0xf8)),alert(_0x93ae4c(0xa1)),document['body']['innerHTML']='<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>',![];floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;try{!audioCtx&&(audioCtx=new(window[(_0x93ae4c(0x99))]||window['webkitAudioContext'])(),masterGainNode=audioCtx[_0x93ae4c(0x133)](),masterGainNode['connect'](audioCtx['destination']),masterGainNode[_0x93ae4c(0x90)]['value']=0.5,previousMasterGain=0.5);audioBuffers={},playingLoopSources={};let _0x373d3e=0x0;const _0xb802bb=Object['keys'](SOUND_PATHS)[_0x93ae4c(0xcf)];for(const _0x458ca9 in SOUND_PATHS){loadAudioBuffer(SOUND_PATHS[_0x458ca9],_0x52de84=>{audioBuffers[_0x458ca9]=_0x52de84,_0x373d3e++;if(_0x373d3e===_0xb802bb){}});}}catch(_0x32599d){console[_0x93ae4c(0x121)]('Error\x20initializing\x20Web\x20Audio:',_0x32599d);}const _0x1f95e1=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2,enemyBulletImage];return _0x1f95e1['forEach'](_0x3787ed=>{const _0x1f4c05=_0x93ae4c;if(_0x3787ed)_0x3787ed[_0x1f4c05(0xbd)]=()=>console[_0x1f4c05(0x121)](_0x1f4c05(0x13b)+_0x3787ed[_0x1f4c05(0x106)]);}),!![];}function scaleValue(_0x57ec0a,_0x911a1a,_0xac2c11){const _0x33078f=_0x136834,_0x1335a6=Math[_0x33078f(0xff)](0x1,Math[_0x33078f(0xf3)](_0x57ec0a,LEVEL_CAP_FOR_SCALING));if(_0x1335a6===0x1)return _0x911a1a;const _0xebed09=(_0x1335a6-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x911a1a+(_0xac2c11-_0x911a1a)*_0xebed09;}function setupInitialEventListeners(){const _0x44756b=_0x136834;try{window[_0x44756b(0x74)](_0x44756b(0x11f),handleGamepadConnected),window[_0x44756b(0x74)](_0x44756b(0x81),handleGamepadDisconnected),window[_0x44756b(0x74)](_0x44756b(0xf2),resizeCanvases);}catch(_0x5d6433){console[_0x44756b(0x121)]('Error\x20setting\x20up\x20initial\x20event\x20listeners:',_0x5d6433);}}function getCurrentGridSlotPosition(_0x165af5,_0x1102ab,_0x2cfdd2){const _0x340d79=_0x136834;if(!gameCanvas||gameCanvas[_0x340d79(0xde)]===0x0||_0x165af5<0x0||_0x1102ab<0x0)return{'x':gameCanvas?.[_0x340d79(0xde)]/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0x404842=ENEMY_WIDTH;let _0x4b8b17=ENEMY_H_SPACING_FIXED,_0x4ef8b0=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x226033=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0x4b8b17=ENEMY_H_SPACING_FIXED+_0x226033;const _0x3f81f6=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x4ef8b0=ENEMY_V_SPACING+_0x3f81f6;}const _0x382727=GRID_COLS*_0x404842+(GRID_COLS-0x1)*_0x4b8b17,_0x53d679=Math[_0x340d79(0x110)]((gameCanvas[_0x340d79(0xde)]-_0x382727)/0x2),_0x3d0691=_0x53d679+currentGridOffsetX,_0x1ad3f9=_0x3d0691+_0x1102ab*(_0x404842+_0x4b8b17),_0xe41d1b=(_0x404842-_0x2cfdd2)/0x2,_0x59db63=Math[_0x340d79(0x110)](_0x1ad3f9+_0xe41d1b),_0x422ae9=Math['round'](ENEMY_TOP_MARGIN+_0x165af5*(ENEMY_HEIGHT+_0x4ef8b0));return{'x':_0x59db63,'y':_0x422ae9};}function loadAudioBuffer(_0x3accb6,_0x5c68f3){const _0x250e56=_0x136834;if(!audioCtx){console[_0x250e56(0x121)](_0x250e56(0x8c));return;}const _0x5b9c88=new XMLHttpRequest();_0x5b9c88[_0x250e56(0x149)](_0x250e56(0x82),_0x3accb6,!![]),_0x5b9c88[_0x250e56(0x76)]=_0x250e56(0x140),_0x5b9c88[_0x250e56(0x10b)]=function(){const _0x24d917=_0x250e56;audioCtx[_0x24d917(0xf7)](_0x5b9c88[_0x24d917(0x139)],function(_0x507ced){if(_0x5c68f3)_0x5c68f3(_0x507ced);},function(_0x37502b){const _0x39fe87=_0x24d917;console[_0x39fe87(0x121)]('Error\x20decoding\x20audio\x20data\x20from\x20'+_0x3accb6,_0x37502b);});},_0x5b9c88[_0x250e56(0xbd)]=function(){const _0x3d4d98=_0x250e56;console['error'](_0x3d4d98(0xf0)+_0x3accb6);},_0x5b9c88[_0x250e56(0x100)]();}function playSound(_0x43757d,_0x4b19e2=![]){const _0x32f931=_0x136834;try{if(!audioCtx||!masterGainNode)return;audioCtx[_0x32f931(0x117)]===_0x32f931(0x134)&&audioCtx[_0x32f931(0x93)]()[_0x32f931(0x87)](_0x339279=>console['error'](_0x32f931(0xa6),_0x339279));if(isPaused&&_0x43757d!==menuMusicSound&&_0x43757d!==resultsMusicSound)return;_0x43757d===menuMusicSound&&stopSound(resultsMusicSound);const _0x4cfa05=audioBuffers[_0x43757d];if(!_0x4cfa05)return;if(_0x4b19e2&&playingLoopSources[_0x43757d]){try{playingLoopSources[_0x43757d][_0x32f931(0xc0)][_0x32f931(0x92)](),playingLoopSources[_0x43757d][_0x32f931(0xc6)]['disconnect']();}catch(_0x21212e){}delete playingLoopSources[_0x43757d];}const _0x5854b9=audioCtx[_0x32f931(0xc5)]();_0x5854b9[_0x32f931(0xf6)]=_0x4cfa05;const _0x30343b=audioCtx['createGain'](),_0x294787=soundVolumes[_0x43757d]!==undefined?soundVolumes[_0x43757d]:0x1;_0x30343b[_0x32f931(0x90)][_0x32f931(0x83)]=_0x294787,_0x5854b9['connect'](_0x30343b),_0x30343b[_0x32f931(0x88)](masterGainNode),_0x5854b9[_0x32f931(0xd3)]=_0x4b19e2,_0x5854b9[_0x32f931(0x6a)](0x0),_0x4b19e2&&(playingLoopSources[_0x43757d]={'source':_0x5854b9,'gainNode':_0x30343b},_0x43757d===gridBackgroundSound&&(isGridSoundPlaying=!![]));}catch(_0x308ea1){console[_0x32f931(0x121)](_0x32f931(0x109)+_0x43757d+':',_0x308ea1);}}function stopSound(_0x24128b){const _0x1b928e=_0x136834;try{if(playingLoopSources[_0x24128b]){const _0x556b30=playingLoopSources[_0x24128b],_0x4eb36e=_0x556b30[_0x1b928e(0xc0)],_0x10b022=_0x556b30[_0x1b928e(0xc6)];if(_0x4eb36e)try{_0x4eb36e['stop'](0x0);}catch(_0x222213){}if(_0x10b022)try{_0x10b022[_0x1b928e(0x112)]();}catch(_0x51d0ba){}delete playingLoopSources[_0x24128b],_0x24128b===gridBackgroundSound&&(isGridSoundPlaying=![]);}}catch(_0x508be2){console['error'](_0x1b928e(0xe9)+_0x24128b+':',_0x508be2);}}function checkCollision(_0x2bff15,_0x820395){const _0xcb4116=_0x136834;if(!_0x2bff15||!_0x820395)return![];return _0x2bff15['x']<_0x820395['x']+_0x820395[_0xcb4116(0xde)]&&_0x2bff15['x']+_0x2bff15[_0xcb4116(0xde)]>_0x820395['x']&&_0x2bff15['y']<_0x820395['y']+_0x820395[_0xcb4116(0x6f)]&&_0x2bff15['y']+_0x2bff15['height']>_0x820395['y'];}function triggerFullscreen(){const _0x46ab7f=_0x136834;if(!document[_0x46ab7f(0xd5)]){const _0x3c97c6=document[_0x46ab7f(0xfd)];if(_0x3c97c6['requestFullscreen'])_0x3c97c6['requestFullscreen']()[_0x46ab7f(0x87)](_0xd2c80a=>console[_0x46ab7f(0x121)](_0x46ab7f(0xee)+_0xd2c80a['message']));else{if(_0x3c97c6[_0x46ab7f(0x13c)])_0x3c97c6[_0x46ab7f(0x13c)]()[_0x46ab7f(0x87)](_0x2a3e01=>console[_0x46ab7f(0x121)](_0x46ab7f(0x116)+_0x2a3e01[_0x46ab7f(0xa7)]));else{if(_0x3c97c6['webkitRequestFullscreen'])_0x3c97c6[_0x46ab7f(0xe1)]()[_0x46ab7f(0x87)](_0x58c0e6=>console[_0x46ab7f(0x121)]('Fullscreen\x20error\x20(WebKit):\x20'+_0x58c0e6[_0x46ab7f(0xa7)]));else _0x3c97c6[_0x46ab7f(0xd1)]&&_0x3c97c6[_0x46ab7f(0xd1)]()[_0x46ab7f(0x87)](_0x3cda47=>console[_0x46ab7f(0x121)](_0x46ab7f(0x7a)+_0x3cda47[_0x46ab7f(0xa7)]));}}}}function _0x590b(_0x350615,_0x558918){const _0x1fdfe1=_0x1fdf();return _0x590b=function(_0x590b4d,_0xcb5245){_0x590b4d=_0x590b4d-0x65;let _0x1762fe=_0x1fdfe1[_0x590b4d];return _0x1762fe;},_0x590b(_0x350615,_0x558918);}function createStar(){const _0x14eff2=_0x136834;if(!starrySkyCanvas||starrySkyCanvas['width']===0x0)return null;return{'x':Math[_0x14eff2(0xd7)]()*starrySkyCanvas[_0x14eff2(0xde)],'y':Math['random']()*starrySkyCanvas[_0x14eff2(0x6f)],'radius':Math['random']()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math[_0x14eff2(0xd7)]()*0.8+0.2,'alphaChange':(Math[_0x14eff2(0xd7)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math[_0x14eff2(0xd7)]()*0.5+0.5)};}function createStars(){const _0x22a9af=_0x136834;stars=[];if(starrySkyCanvas?.['width']>0x0&&starrySkyCanvas?.[_0x22a9af(0x6f)]>0x0)for(let _0x2e2654=0x0;_0x2e2654<NUM_STARS;_0x2e2654++){const _0x14a15d=createStar();if(_0x14a15d)stars[_0x22a9af(0xfa)](_0x14a15d);}}function drawStars(){const _0x4ed076=_0x136834;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas[_0x4ed076(0xde)]===0x0||starrySkyCanvas[_0x4ed076(0x6f)]===0x0)return;const _0x213420=starrySkyCanvas[_0x4ed076(0xde)],_0x1f8f01=starrySkyCanvas[_0x4ed076(0x6f)];starryCtx['clearRect'](0x0,0x0,_0x213420,_0x1f8f01);const _0x14d8f0=Math[_0x4ed076(0x110)](_0x1f8f01*GRID_HORIZON_Y_FACTOR),_0x5b3719=_0x1f8f01-_0x14d8f0,_0x42905b=Math[_0x4ed076(0xff)](0x0,_0x14d8f0-_0x5b3719*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x1c2859=_0x14d8f0,_0x50bab0=Math[_0x4ed076(0xff)](0x1,_0x1c2859-_0x42905b);stars[_0x4ed076(0xb8)](_0x275c75=>{const _0x27dc83=_0x4ed076,_0x565e13=(_0x275c75[_0x27dc83(0xa3)]-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x26c3c0=BASE_PARALLAX_SPEED+_0x565e13*PARALLAX_SPEED_FACTOR;!isPaused&&(_0x275c75['y']+=_0x26c3c0);_0x275c75['y']>_0x1f8f01+_0x275c75[_0x27dc83(0xa3)]&&(_0x275c75['y']=-_0x275c75['radius']*0x2,_0x275c75['x']=Math['random']()*_0x213420);!isPaused&&(_0x275c75['alpha']+=_0x275c75[_0x27dc83(0x101)],(_0x275c75[_0x27dc83(0x147)]<=0.1||_0x275c75['alpha']>=0x1)&&(_0x275c75['alphaChange']*=-0x1,_0x275c75[_0x27dc83(0x147)]=Math['max'](0.1,Math[_0x27dc83(0xf3)](0x1,_0x275c75[_0x27dc83(0x147)]))));let _0x379bfd=_0x275c75[_0x27dc83(0x147)];_0x42905b>=0x0&&_0x275c75['y']>_0x42905b&&(_0x275c75['y']>=_0x14d8f0?_0x379bfd=0x0:_0x379bfd*=0x1-Math['min'](0x1,Math[_0x27dc83(0xff)](0x0,(_0x275c75['y']-_0x42905b)/_0x50bab0))),_0x379bfd=Math['max'](0x0,Math[_0x27dc83(0xf3)](0x1,_0x379bfd)),_0x379bfd>0.01&&(starryCtx[_0x27dc83(0xdb)](),starryCtx['arc'](Math[_0x27dc83(0x110)](_0x275c75['x']),Math[_0x27dc83(0x110)](_0x275c75['y']),_0x275c75[_0x27dc83(0xa3)],0x0,Math['PI']*0x2),starryCtx[_0x27dc83(0x11d)]='rgba(255,\x20255,\x20255,\x20'+_0x379bfd['toFixed'](0x3)+')',starryCtx[_0x27dc83(0x70)]());});}catch(_0x512e54){console[_0x4ed076(0x121)](_0x4ed076(0xc8),_0x512e54);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x1238fc=_0x136834;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas['width']===0x0||retroGridCanvas[_0x1238fc(0x6f)]===0x0)return;!isPaused&&(gridOffsetY-=GRID_SPEED);const _0x25e2fb=retroGridCanvas[_0x1238fc(0xde)],_0x28353b=retroGridCanvas[_0x1238fc(0x6f)];retroGridCtx[_0x1238fc(0x141)](0x0,0x0,_0x25e2fb,_0x28353b);const _0x371468=Math['round'](_0x28353b*GRID_HORIZON_Y_FACTOR),_0x1010f4=_0x25e2fb/0x2,_0x5aa30c=_0x28353b-_0x371468;retroGridCtx[_0x1238fc(0xf1)]=GRID_LINE_WIDTH;const _0x56c2b2=_0x25e2fb*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0x439b1e=_0x1010f4-_0x56c2b2/0x2,_0x1e1d44=_0x1010f4+_0x56c2b2/0x2,_0x1acd69=_0x371468+_0x5aa30c*0.1,_0x30f000=_0x28353b,_0xc0256c=Math[_0x1238fc(0xff)](0x1,_0x30f000-_0x1acd69);retroGridCtx[_0x1238fc(0xc7)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x1238fc(0xdb)](),retroGridCtx[_0x1238fc(0x11e)](_0x439b1e,_0x371468),retroGridCtx[_0x1238fc(0xfc)](_0x1e1d44,_0x371468),retroGridCtx[_0x1238fc(0x105)]();let _0x6c0de8=gridOffsetY%GRID_BASE_SPACING;_0x6c0de8>0x0&&(_0x6c0de8-=GRID_BASE_SPACING);let _0x2c1bad=_0x371468-_0x6c0de8;if(_0x2c1bad<=_0x371468)_0x2c1bad+=GRID_BASE_SPACING;while(_0x2c1bad<_0x28353b+GRID_BASE_SPACING){let _0x528a71=Math['max'](0x0,Math[_0x1238fc(0xf3)](0x1,(_0x2c1bad-_0x371468)/_0x5aa30c));if(_0x2c1bad>_0x371468&&_0x2c1bad<=_0x28353b+GRID_LINE_WIDTH*0x2){let _0x3f307d;if(_0x2c1bad<=_0x1acd69)_0x3f307d=GRID_MIN_ALPHA;else{if(_0x2c1bad>=_0x30f000)_0x3f307d=GRID_BASE_ALPHA;else{const _0x306c16=(_0x2c1bad-_0x1acd69)/_0xc0256c;_0x3f307d=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x306c16;}}_0x3f307d=Math['max'](0x0,Math['min'](GRID_BASE_ALPHA,_0x3f307d)),_0x3f307d>0.01&&(retroGridCtx['strokeStyle']=_0x1238fc(0x6b)+GRID_RGB_PART+',\x20'+_0x3f307d[_0x1238fc(0xe0)](0x3)+')',retroGridCtx[_0x1238fc(0xdb)](),retroGridCtx[_0x1238fc(0x11e)](_0x439b1e,Math[_0x1238fc(0x110)](_0x2c1bad)),retroGridCtx['lineTo'](_0x1e1d44,Math[_0x1238fc(0x110)](_0x2c1bad)),retroGridCtx['stroke']());}let _0x46c0dd=GRID_BASE_SPACING*Math[_0x1238fc(0xec)](0x1+_0x528a71*1.5,GRID_SPACING_POWER);_0x2c1bad+=Math['max'](0x1,_0x46c0dd);}retroGridCtx['strokeStyle']=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x1238fc(0xdb)]();const _0x42fdad=Math['floor'](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x5879dd=_0x25e2fb*GRID_HORIZON_SPREAD_FACTOR,_0x43b0bf=_0x25e2fb*GRID_BOTTOM_SPREAD_FACTOR;for(let _0x4e0cbf=0x0;_0x4e0cbf<=_0x42fdad;_0x4e0cbf++){let _0x34a55b=Math[_0x1238fc(0xec)](_0x4e0cbf/_0x42fdad,GRID_PERSPECTIVE_POWER),_0x3f39bc=_0x1010f4+_0x34a55b*(_0x5879dd/0x2),_0x16731b=_0x1010f4-_0x34a55b*(_0x5879dd/0x2),_0x1ff1e3=_0x1010f4+_0x34a55b*(_0x43b0bf/0x2),_0x1bbeda=_0x1010f4-_0x34a55b*(_0x43b0bf/0x2);retroGridCtx[_0x1238fc(0x11e)](_0x3f39bc,_0x371468),retroGridCtx['lineTo'](_0x1ff1e3,_0x28353b),_0x4e0cbf>0x0&&(retroGridCtx[_0x1238fc(0x11e)](_0x16731b,_0x371468),retroGridCtx[_0x1238fc(0xfc)](_0x1bbeda,_0x28353b));}retroGridCtx[_0x1238fc(0x105)]();}catch(_0x3e8eef){console[_0x1238fc(0x121)](_0x1238fc(0x142),_0x3e8eef);}}function calculateBezierPoint(_0x377bbd,_0x38faa7,_0x4f9d0d,_0x33453a,_0x8a594e){const _0x5f43c4=0x1-_0x377bbd,_0x4a3074=_0x377bbd*_0x377bbd,_0x1902e3=_0x5f43c4*_0x5f43c4,_0xab1615=_0x1902e3*_0x5f43c4,_0x5665a1=_0x4a3074*_0x377bbd;let _0x4bbe8d=_0xab1615*_0x38faa7;return _0x4bbe8d+=0x3*_0x1902e3*_0x377bbd*_0x4f9d0d,_0x4bbe8d+=0x3*_0x5f43c4*_0x4a3074*_0x33453a,_0x4bbe8d+=_0x5665a1*_0x8a594e,_0x4bbe8d;}function defineNormalWaveEntrancePaths(){const _0x19e28f=_0x136834;normalWaveEntrancePaths={};const _0x47af76=gameCanvas?.['width'],_0x44e2ac=gameCanvas?.['height'];if(!_0x47af76||!_0x44e2ac||_0x47af76===0x0){console[_0x19e28f(0x121)](_0x19e28f(0xc2));return;}const _0x2bae10=_0x47af76/0x320,_0x39a4ad=_0x44e2ac/0x258,_0x5811a5=-Math[_0x19e28f(0xff)](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x524075=_0x47af76/0x2,_0x4d5a8d=-0x19,_0x4f1df=ENEMY_WIDTH,_0x18a23a=ENEMY_H_SPACING_FIXED,_0x2a32bd=GRID_COLS*_0x4f1df+(GRID_COLS-0x1)*_0x18a23a,_0x36cf7a=Math[_0x19e28f(0x110)]((_0x47af76-_0x2a32bd)/0x2),_0x152c2a=_0x36cf7a+0x4*(_0x4f1df+_0x18a23a)+_0x4f1df/0x2,_0x309f47=_0x36cf7a+0x5*(_0x4f1df+_0x18a23a)+_0x4f1df/0x2,_0x5e0504=(_0x152c2a+_0x309f47)/0x2+_0x4d5a8d,_0x5de497=Math['round'](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x4bd392=_0x5de497+0x3c*_0x39a4ad,_0x170410=[{'p0':{'x':0x50/0x190*0x320*_0x2bae10+_0x4d5a8d,'y':_0x5811a5},'p1':{'x':0x1b8/0x190*0x320*_0x2bae10+_0x4d5a8d,'y':0x8c/0x12c*0x258*_0x39a4ad},'p2':{'x':0x104/0x190*0x320*_0x2bae10+_0x4d5a8d,'y':0x154/0x12c*0x258*_0x39a4ad},'p3':{'x':_0x5e0504,'y':_0x4bd392}}];normalWaveEntrancePaths[_0x19e28f(0x8f)]=_0x170410;const _0x8f0ab9=_0x170410[_0x19e28f(0xb0)](_0x4cdc29=>({'p0':{'x':_0x47af76-(_0x4cdc29['p0']['x']-_0x4d5a8d)+_0x4d5a8d,'y':_0x4cdc29['p0']['y']},'p1':{'x':_0x47af76-(_0x4cdc29['p1']['x']-_0x4d5a8d)+_0x4d5a8d,'y':_0x4cdc29['p1']['y']},'p2':{'x':_0x47af76-(_0x4cdc29['p2']['x']-_0x4d5a8d)+_0x4d5a8d,'y':_0x4cdc29['p2']['y']},'p3':{'x':_0x5e0504,'y':_0x4cdc29['p3']['y']}}));normalWaveEntrancePaths[_0x19e28f(0x11c)]=_0x8f0ab9;const _0x205c2e=_0x4984f9=>{const _0x3fad0d=_0x19e28f,_0x2409ff=_0x4984f9?_0x3fad0d(0xbb):_0x3fad0d(0x127),_0x24a07a=_0x2d0f8b=>_0x4984f9?_0x47af76-_0x2d0f8b:_0x2d0f8b,_0x54a2e9=0x82*_0x39a4ad,_0x2fe2e7=0x50*_0x2bae10,_0x2265b7=0x12c*_0x2bae10,_0x4835cd=0x12c*_0x39a4ad,_0x2f988b=_0x2265b7+_0x2fe2e7,_0x9f48f0=_0x4835cd,_0x5ee078=_0x24a07a(-0x64*_0x2bae10),_0x4e8b76=(0x15e+_0x54a2e9)*_0x39a4ad,_0x266676=ENEMY_TOP_MARGIN-0x14,_0xee5fde={'x':_0x5ee078,'y':_0x4e8b76},_0x2e9877={'x':_0x24a07a(_0x2f988b),'y':_0x9f48f0},_0x3901e7={'x':_0x24a07a(_0x2265b7),'y':_0x4835cd-_0x2fe2e7},_0x4b50d2={'x':_0x24a07a(_0x2265b7-_0x2fe2e7),'y':_0x4835cd},_0x25f332={'x':_0x24a07a(_0x2265b7),'y':_0x4835cd+_0x2fe2e7},_0x40dc6b={'x':_0x2e9877['x'],'y':_0x266676},_0x5d8130=0.25,_0x5221c3=Math['atan2'](_0x2e9877['y']-_0x4e8b76,_0x2e9877['x']-_0x5ee078),_0x48963e={'x':_0x2e9877['x']-Math['cos'](_0x5221c3)*_0x2fe2e7*_0x5d8130,'y':_0x2e9877['y']-Math[_0x3fad0d(0x111)](_0x5221c3)*_0x2fe2e7*_0x5d8130},_0x4ab47a={'x':(_0xee5fde['x']+_0x48963e['x'])/0x2,'y':(_0xee5fde['y']+_0x48963e['y'])/0x2},_0x1419b9={'x':_0x2e9877['x'],'y':(_0x2e9877['y']+_0x40dc6b['y'])/0x2},_0x1a5dd4=0.552284749831,_0x1d0748=_0x2fe2e7*_0x1a5dd4,_0x56a72b=_0x2fe2e7*_0x1a5dd4;let _0x34de2e=[];_0x34de2e[_0x3fad0d(0xfa)]({'p0':_0xee5fde,'p1':{'x':_0xee5fde['x']+(_0x4ab47a['x']-_0xee5fde['x'])*0.33,'y':_0xee5fde['y']+(_0x4ab47a['y']-_0xee5fde['y'])*0.33},'p2':{'x':_0xee5fde['x']+(_0x4ab47a['x']-_0xee5fde['x'])*0.66,'y':_0xee5fde['y']+(_0x4ab47a['y']-_0xee5fde['y'])*0.66},'p3':_0x4ab47a}),_0x34de2e['push']({'p0':_0x4ab47a,'p1':{'x':_0x4ab47a['x']+(_0x48963e['x']-_0x4ab47a['x'])*0.33,'y':_0x4ab47a['y']+(_0x48963e['y']-_0x4ab47a['y'])*0.33},'p2':{'x':_0x4ab47a['x']+(_0x48963e['x']-_0x4ab47a['x'])*0.66,'y':_0x4ab47a['y']+(_0x48963e['y']-_0x4ab47a['y'])*0.66},'p3':_0x48963e});const _0x5ce415={'x':_0x48963e['x']+(_0x48963e['x']-_0x4ab47a['x'])*0.3,'y':_0x48963e['y']+(_0x48963e['y']-_0x4ab47a['y'])*0.3},_0x2afcdf={'x':_0x24a07a(_0x2265b7+_0x1d0748),'y':_0x3901e7['y']};return _0x34de2e[_0x3fad0d(0xfa)]({'p0':_0x48963e,'p1':_0x5ce415,'p2':_0x2afcdf,'p3':_0x3901e7}),_0x34de2e[_0x3fad0d(0xfa)]({'p0':_0x3901e7,'p1':{'x':_0x24a07a(_0x2265b7-_0x1d0748),'y':_0x3901e7['y']},'p2':{'x':_0x4b50d2['x'],'y':_0x4b50d2['y']-_0x56a72b},'p3':_0x4b50d2}),_0x34de2e['push']({'p0':_0x4b50d2,'p1':{'x':_0x4b50d2['x'],'y':_0x4b50d2['y']+_0x56a72b},'p2':{'x':_0x24a07a(_0x2265b7-_0x1d0748),'y':_0x25f332['y']},'p3':_0x25f332}),_0x34de2e['push']({'p0':_0x25f332,'p1':{'x':_0x24a07a(_0x2265b7+_0x1d0748),'y':_0x25f332['y']},'p2':{'x':_0x2e9877['x'],'y':_0x2e9877['y']+_0x56a72b},'p3':_0x2e9877}),_0x34de2e[_0x3fad0d(0xfa)]({'p0':_0x2e9877,'p1':{'x':_0x2e9877['x']+(_0x1419b9['x']-_0x2e9877['x'])*0.33,'y':_0x2e9877['y']+(_0x1419b9['y']-_0x2e9877['y'])*0.33},'p2':{'x':_0x2e9877['x']+(_0x1419b9['x']-_0x2e9877['x'])*0.66,'y':_0x2e9877['y']+(_0x1419b9['y']-_0x2e9877['y'])*0.66},'p3':_0x1419b9}),_0x34de2e[_0x3fad0d(0xfa)]({'p0':_0x1419b9,'p1':{'x':_0x1419b9['x']+(_0x40dc6b['x']-_0x1419b9['x'])*0.33,'y':_0x1419b9['y']+(_0x40dc6b['y']-_0x1419b9['y'])*0.33},'p2':{'x':_0x1419b9['x']+(_0x40dc6b['x']-_0x1419b9['x'])*0.66,'y':_0x1419b9['y']+(_0x40dc6b['y']-_0x1419b9['y'])*0.66},'p3':_0x40dc6b}),_0x34de2e;};normalWaveEntrancePaths[_0x19e28f(0x127)]=_0x205c2e(![]),normalWaveEntrancePaths[_0x19e28f(0xbb)]=_0x205c2e(!![]);const _0x391803=0x2ee,_0x3cbc48=0x15e*_0x39a4ad,_0x29fafb={'x':_0x524075,'y':_0x5811a5},_0xda0bfd={'x':(_0x524075+(0x2ee-0x190)*(0x2/0x3))*_0x2bae10,'y':(-0x32+(_0x391803- -0x32)*(0x2/0x3))*_0x39a4ad},_0x4c6111={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x2bae10,'y':(_0x3cbc48+(_0x391803-_0x3cbc48)*(0x1/0x3))*_0x39a4ad},_0x16fe43={'x':_0x524075,'y':_0x3cbc48};normalWaveEntrancePaths[_0x19e28f(0xb7)]=[{'p0':_0x29fafb,'p1':_0xda0bfd,'p2':_0x4c6111,'p3':_0x16fe43}];const _0x44c7a4={'x':_0x524075,'y':_0x5811a5},_0x4103bf={'x':_0x47af76-_0xda0bfd['x'],'y':_0xda0bfd['y']},_0x2d4a70={'x':_0x47af76-_0x4c6111['x'],'y':_0x4c6111['y']},_0x1b4b3a={'x':_0x524075,'y':_0x3cbc48};normalWaveEntrancePaths[_0x19e28f(0xea)]=[{'p0':_0x44c7a4,'p1':_0x4103bf,'p2':_0x2d4a70,'p3':_0x1b4b3a}];for(const _0x1a4a26 in normalWaveEntrancePaths){if(!Array['isArray'](normalWaveEntrancePaths[_0x1a4a26])){console['error']('Normal\x20Wave\x20Path\x20'+_0x1a4a26+'\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.'),normalWaveEntrancePaths[_0x1a4a26]=[{'p0':{'x':_0x47af76/0x2,'y':_0x5811a5},'p1':{'x':_0x47af76/0x2,'y':_0x44e2ac/0x3},'p2':{'x':_0x47af76/0x2,'y':_0x44e2ac*0x2/0x3},'p3':{'x':_0x47af76/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0x1a4a26]=normalWaveEntrancePaths[_0x1a4a26][_0x19e28f(0xc4)](_0x3002f0=>_0x3002f0?.['p0']&&_0x3002f0?.['p1']&&_0x3002f0?.['p2']&&_0x3002f0?.['p3']&&typeof _0x3002f0['p0']['x']===_0x19e28f(0x124)&&typeof _0x3002f0['p0']['y']===_0x19e28f(0x124)&&typeof _0x3002f0['p1']['x']===_0x19e28f(0x124)&&typeof _0x3002f0['p1']['y']==='number'&&typeof _0x3002f0['p2']['x']==='number'&&typeof _0x3002f0['p2']['y']==='number'&&typeof _0x3002f0['p3']['x']===_0x19e28f(0x124)&&typeof _0x3002f0['p3']['y']===_0x19e28f(0x124)&&!isNaN(_0x3002f0['p0']['x']+_0x3002f0['p0']['y']+_0x3002f0['p1']['x']+_0x3002f0['p1']['y']+_0x3002f0['p2']['x']+_0x3002f0['p2']['y']+_0x3002f0['p3']['x']+_0x3002f0['p3']['y'])),normalWaveEntrancePaths[_0x1a4a26]['length']===0x0&&(console[_0x19e28f(0x121)]('Normal\x20Wave\x20Path\x20'+_0x1a4a26+_0x19e28f(0xa0)),normalWaveEntrancePaths[_0x1a4a26]=[{'p0':{'x':_0x47af76/0x2,'y':_0x5811a5},'p1':{'x':_0x47af76/0x2,'y':_0x44e2ac/0x3},'p2':{'x':_0x47af76/0x2,'y':_0x44e2ac*0x2/0x3},'p3':{'x':_0x47af76/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0x43baf7=_0x136834;challengingStagePaths={};const _0x48f510=gameCanvas?.['width'],_0x58b2c4=gameCanvas?.['height'];if(!_0x48f510||!_0x58b2c4||_0x48f510===0x0){console[_0x43baf7(0x121)](_0x43baf7(0x104));return;}const _0x1b8f66=ENEMY_WIDTH,_0x1d915d=ENEMY_HEIGHT,_0x2a6859=-_0x1d915d*1.5,_0x9a67a7=_0x58b2c4+_0x1d915d*0x2,_0x44882a=-_0x1b8f66*1.5,_0x364301=_0x48f510+_0x1b8f66*1.5,_0x5f1b10=_0x48f510/0x2,_0x5b4160=_0x58b2c4/0x2,_0x4bebc0=-0x1c,_0x35dbc0=(_0x394e47,_0x30067a)=>{const _0x584604=_0x43baf7;return _0x394e47[_0x584604(0xb0)](_0x3b2b8c=>{const _0x487ce9=_0x584604,_0x2a4712=JSON[_0x487ce9(0x138)](JSON['stringify'](_0x3b2b8c));if(_0x2a4712['p0']&&typeof _0x2a4712['p0']['x']===_0x487ce9(0x124))_0x2a4712['p0']['x']+=_0x30067a;if(_0x2a4712['p1']&&typeof _0x2a4712['p1']['x']===_0x487ce9(0x124))_0x2a4712['p1']['x']+=_0x30067a;if(_0x2a4712['p2']&&typeof _0x2a4712['p2']['x']===_0x487ce9(0x124))_0x2a4712['p2']['x']+=_0x30067a;return _0x2a4712['p3']&&typeof _0x2a4712['p3']['x']===_0x487ce9(0x124)&&_0x2a4712['p3']['x']!==_0x44882a&&_0x2a4712['p3']['x']!==_0x364301&&(_0x2a4712['p3']['x']+=_0x30067a),_0x2a4712;});},_0x35e0fb=37.8/0x320*0.3,_0x5a92d7=0.5-_0x35e0fb,_0x5dec34=0x1c2/0x258,_0x520a2e=0.49,_0x30a811=0x258/0x258,_0x1616a0=0.48,_0x53fb12=0x12c/0x258,_0x2bfc4b=_0x48f510*_0x5a92d7,_0x2b0cba=_0x58b2c4*_0x5dec34,_0x587fe1=_0x48f510*_0x520a2e,_0x4f0698=_0x58b2c4*Math[_0x43baf7(0xf3)](0x1,_0x30a811),_0x2e7f84=_0x48f510*_0x1616a0,_0x2c54c5=_0x58b2c4*_0x53fb12,_0x5abc52=_0x44882a,_0x13aff9=_0x2a6859,_0x51f6a6={'x':_0x2bfc4b,'y':_0x2a6859},_0x29dc87={'x':_0x2bfc4b,'y':_0x2b0cba},_0x3d38b6={'x':_0x2bfc4b,'y':_0x2a6859+(_0x2b0cba-_0x2a6859)*0.33},_0x498f6e={'x':_0x2bfc4b,'y':_0x2a6859+(_0x2b0cba-_0x2a6859)*0.66},_0x2e4579=_0x29dc87,_0x2bae60={'x':_0x587fe1,'y':_0x4f0698},_0x3d57b2={'x':_0x2e7f84,'y':_0x2c54c5},_0x3425ac={'x':_0x5abc52,'y':_0x13aff9},_0x3c3529=[{'p0':_0x51f6a6,'p1':_0x3d38b6,'p2':_0x498f6e,'p3':_0x29dc87},{'p0':_0x2e4579,'p1':_0x2bae60,'p2':_0x3d57b2,'p3':_0x3425ac}],_0x56c757=_0x3c3529[_0x43baf7(0xb0)](_0x3f9256=>({'p0':{'x':_0x48f510-_0x3f9256['p0']['x'],'y':_0x3f9256['p0']['y']},'p1':{'x':_0x48f510-_0x3f9256['p1']['x'],'y':_0x3f9256['p1']['y']},'p2':{'x':_0x48f510-_0x3f9256['p2']['x'],'y':_0x3f9256['p2']['y']},'p3':{'x':_0x3f9256['p3']['x']===_0x44882a?_0x364301:_0x48f510-_0x3f9256['p3']['x'],'y':_0x3f9256['p3']['y']}}));challengingStagePaths['CS3_DiveLoopL_Sharp']=_0x35dbc0(_0x3c3529,_0x4bebc0),challengingStagePaths[_0x43baf7(0x123)]=_0x35dbc0(_0x56c757,_0x4bebc0);const _0xa2191d=_0x58b2c4*0.7,_0x5a9ce4=_0x58b2c4*0.03,_0x5dacd4=_0x48f510*0.15;challengingStagePaths['CS_HorizontalFlyByL']=[{'p0':{'x':_0x44882a,'y':_0xa2191d},'p1':{'x':_0x44882a+_0x5dacd4,'y':_0xa2191d-_0x5a9ce4},'p2':{'x':_0x364301-_0x5dacd4,'y':_0xa2191d+_0x5a9ce4},'p3':{'x':_0x364301,'y':_0xa2191d}}],challengingStagePaths[_0x43baf7(0x10a)]=[{'p0':{'x':_0x364301,'y':_0xa2191d},'p1':{'x':_0x364301-_0x5dacd4,'y':_0xa2191d-_0x5a9ce4},'p2':{'x':_0x44882a+_0x5dacd4,'y':_0xa2191d+_0x5a9ce4},'p3':{'x':_0x44882a,'y':_0xa2191d}}];const _0x4409ae=_0x58b2c4*0.8,_0x2663f6=_0x58b2c4*0.55,_0x1b9a41=_0x58b2c4*0.15;challengingStagePaths['CS_LoopAttack_TL']=[{'p0':{'x':_0x48f510*0.1,'y':_0x2a6859},'p1':{'x':_0x48f510*0.2,'y':_0x58b2c4*0.2},'p2':{'x':_0x48f510*0.6,'y':_0x4409ae},'p3':{'x':_0x48f510*0.7,'y':_0x4409ae}},{'p0':{'x':_0x48f510*0.7,'y':_0x4409ae},'p1':{'x':_0x48f510*0.8,'y':_0x4409ae},'p2':{'x':_0x48f510*0.8,'y':_0x2663f6},'p3':{'x':_0x48f510*0.7,'y':_0x2663f6}},{'p0':{'x':_0x48f510*0.7,'y':_0x2663f6},'p1':{'x':_0x48f510*0.6,'y':_0x2663f6},'p2':{'x':_0x364301,'y':_0x1b9a41},'p3':{'x':_0x364301,'y':_0x1b9a41+_0x58b2c4*0.1}}],challengingStagePaths['CS_LoopAttack_TR']=[{'p0':{'x':_0x48f510*0.9,'y':_0x2a6859},'p1':{'x':_0x48f510*0.8,'y':_0x58b2c4*0.2},'p2':{'x':_0x48f510*0.4,'y':_0x4409ae},'p3':{'x':_0x48f510*0.3,'y':_0x4409ae}},{'p0':{'x':_0x48f510*0.3,'y':_0x4409ae},'p1':{'x':_0x48f510*0.2,'y':_0x4409ae},'p2':{'x':_0x48f510*0.2,'y':_0x2663f6},'p3':{'x':_0x48f510*0.3,'y':_0x2663f6}},{'p0':{'x':_0x48f510*0.3,'y':_0x2663f6},'p1':{'x':_0x48f510*0.4,'y':_0x2663f6},'p2':{'x':_0x44882a,'y':_0x1b9a41},'p3':{'x':_0x44882a,'y':_0x1b9a41+_0x58b2c4*0.1}}],challengingStagePaths[_0x43baf7(0x115)]=[{'p0':{'x':_0x44882a,'y':_0x58b2c4*0.6},'p1':{'x':_0x48f510*0.1,'y':_0x58b2c4*0.4},'p2':{'x':_0x48f510*0.6,'y':_0x58b2c4*0.2},'p3':{'x':_0x5f1b10,'y':_0x58b2c4*0.3}},{'p0':{'x':_0x5f1b10,'y':_0x58b2c4*0.3},'p1':{'x':_0x48f510*0.4,'y':_0x58b2c4*0.4},'p2':{'x':_0x48f510*0.3,'y':_0x4409ae*0.9},'p3':{'x':_0x48f510*0.4,'y':_0x4409ae}},{'p0':{'x':_0x48f510*0.4,'y':_0x4409ae},'p1':{'x':_0x48f510*0.5,'y':_0x4409ae*1.05},'p2':{'x':_0x5f1b10,'y':_0x2a6859},'p3':{'x':_0x5f1b10+_0x48f510*0.1,'y':_0x2a6859}}],challengingStagePaths[_0x43baf7(0xe7)]=[{'p0':{'x':_0x364301,'y':_0x58b2c4*0.6},'p1':{'x':_0x48f510*0.9,'y':_0x58b2c4*0.4},'p2':{'x':_0x48f510*0.4,'y':_0x58b2c4*0.2},'p3':{'x':_0x5f1b10,'y':_0x58b2c4*0.3}},{'p0':{'x':_0x5f1b10,'y':_0x58b2c4*0.3},'p1':{'x':_0x48f510*0.6,'y':_0x58b2c4*0.4},'p2':{'x':_0x48f510*0.7,'y':_0x4409ae*0.9},'p3':{'x':_0x48f510*0.6,'y':_0x4409ae}},{'p0':{'x':_0x48f510*0.6,'y':_0x4409ae},'p1':{'x':_0x48f510*0.5,'y':_0x4409ae*1.05},'p2':{'x':_0x5f1b10,'y':_0x2a6859},'p3':{'x':_0x5f1b10-_0x48f510*0.1,'y':_0x2a6859}}];for(const _0x159dfd in challengingStagePaths){challengingStagePaths[_0x159dfd]=challengingStagePaths[_0x159dfd]['filter'](_0x2d2448=>_0x2d2448?.['p0']&&_0x2d2448?.['p1']&&_0x2d2448?.['p2']&&_0x2d2448?.['p3']&&!isNaN(_0x2d2448['p0']['x']+_0x2d2448['p0']['y']+_0x2d2448['p1']['x']+_0x2d2448['p1']['y']+_0x2d2448['p2']['x']+_0x2d2448['p2']['y']+_0x2d2448['p3']['x']+_0x2d2448['p3']['y'])),challengingStagePaths[_0x159dfd]['length']===0x0&&(console[_0x43baf7(0x121)](_0x43baf7(0x95)+_0x159dfd+_0x43baf7(0x146)),challengingStagePaths[_0x159dfd]=[{'p0':{'x':_0x48f510/0x2,'y':_0x2a6859},'p1':{'x':_0x48f510/0x2,'y':_0x58b2c4/0x3},'p2':{'x':_0x48f510/0x2,'y':_0x58b2c4*0x2/0x3},'p3':{'x':_0x48f510/0x2,'y':_0x9a67a7}}]);}}function resizeCanvases(){const _0x141a2c=_0x136834;try{const _0x4a7e37=window[_0x141a2c(0x13f)],_0x1775fc=window[_0x141a2c(0x10c)];if(_0x4a7e37<=0x0||_0x1775fc<=0x0)return;starrySkyCanvas&&(starrySkyCanvas[_0x141a2c(0xde)]!==_0x4a7e37||starrySkyCanvas[_0x141a2c(0x6f)]!==_0x1775fc)&&(starrySkyCanvas[_0x141a2c(0xde)]=_0x4a7e37,starrySkyCanvas['height']=_0x1775fc,createStars());retroGridCanvas&&(retroGridCanvas[_0x141a2c(0xde)]!==_0x4a7e37||retroGridCanvas['height']!==_0x1775fc)&&(retroGridCanvas[_0x141a2c(0xde)]=_0x4a7e37,retroGridCanvas['height']=_0x1775fc);if(gameCanvas&&(gameCanvas['width']!==_0x4a7e37||gameCanvas[_0x141a2c(0x6f)]!==_0x1775fc)){const _0x1f7da7=gameCanvas[_0x141a2c(0xde)];gameCanvas[_0x141a2c(0xde)]=_0x4a7e37,gameCanvas['height']=_0x1775fc,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0x1f7da7,_0x4a7e37,_0x1775fc);}else(!gameCanvas?.[_0x141a2c(0xde)]||!gameCanvas?.[_0x141a2c(0x6f)])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0x8fc5dd){console[_0x141a2c(0x121)](_0x141a2c(0xd8),_0x8fc5dd);}}function handleResizeGameElements(_0x63ee9d,_0x2a30fb,_0x3707d4){const _0x219b9b=_0x136834;try{currentGridOffsetX=0x0,ship&&(_0x63ee9d>0x0&&_0x2a30fb>0x0&&typeof ship['x']!==_0x219b9b(0x9e)?ship['x']=ship['x']/_0x63ee9d*_0x2a30fb:ship['x']=_0x2a30fb/0x2-ship[_0x219b9b(0xde)]/0x2,ship['x']=Math['max'](0x0,Math[_0x219b9b(0xf3)](_0x2a30fb-ship[_0x219b9b(0xde)],ship['x'])),ship['y']=_0x3707d4-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship[_0x219b9b(0xb3)]=ship['x']),enemies[_0x219b9b(0xb8)](_0x46c1c6=>{const _0x578af7=_0x219b9b;if(_0x46c1c6&&(_0x46c1c6[_0x578af7(0x117)]===_0x578af7(0xed)||_0x46c1c6[_0x578af7(0x117)]==='returning'||_0x46c1c6['state']===_0x578af7(0xef)))try{const _0xbea6c6=_0x46c1c6['type']===ENEMY3_TYPE?BOSS_WIDTH:_0x46c1c6[_0x578af7(0x67)]===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x1fd935,y:_0x340786}=getCurrentGridSlotPosition(_0x46c1c6[_0x578af7(0xcb)],_0x46c1c6['gridCol'],_0xbea6c6);_0x46c1c6[_0x578af7(0x73)]=_0x1fd935,_0x46c1c6[_0x578af7(0xda)]=_0x340786,_0x46c1c6[_0x578af7(0x117)]===_0x578af7(0xed)&&(_0x46c1c6['x']=_0x1fd935,_0x46c1c6['y']=_0x340786);}catch(_0x160a7f){console['error'](_0x578af7(0xfb)+_0x46c1c6['id']+_0x578af7(0xb1),_0x160a7f),(_0x46c1c6[_0x578af7(0x117)]===_0x578af7(0xed)||_0x46c1c6[_0x578af7(0x117)]===_0x578af7(0xef)||_0x46c1c6[_0x578af7(0x117)]===_0x578af7(0x69))&&(_0x46c1c6['x']=_0x2a30fb/0x2,_0x46c1c6['y']=ENEMY_TOP_MARGIN+_0x46c1c6['gridRow']*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0x46c1c6[_0x578af7(0x73)]=_0x46c1c6['x'],_0x46c1c6[_0x578af7(0xda)]=_0x46c1c6['y']);}});}catch(_0x329a4f){console['error'](_0x219b9b(0xdf),_0x329a4f);}}function handleKeyDown(_0x34441c){const _0xfed297=_0x136834;try{const _0x219959=['\x20','ArrowUp','ArrowDown','ArrowLeft',_0xfed297(0xe5),_0xfed297(0x130),_0xfed297(0xf5),'w','a','s','d','p','P','j','J','l','L','i','I',_0xfed297(0x7e),'Numpad6','Numpad0'];(_0x219959[_0xfed297(0x9f)](_0x34441c[_0xfed297(0x9b)])||_0x219959[_0xfed297(0x9f)](_0x34441c[_0xfed297(0xd9)]))&&_0x34441c[_0xfed297(0x107)]();let _0x5b8619=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x5b8619=!![]);if(_0x5b8619)return;if(isInGameState){if((_0x34441c[_0xfed297(0x9b)]==='p'||_0x34441c['key']==='P')&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){if(typeof togglePause===_0xfed297(0x85))togglePause();return;}if(!isPaused){if(playerLives>0x0){if(!isManualControl){if(_0x34441c[_0xfed297(0x9b)]==='Escape'||_0x34441c[_0xfed297(0x9b)]===_0xfed297(0x130)){if(typeof stopGameAndShowMenu===_0xfed297(0x85))stopGameAndShowMenu();}else{if(!_0x34441c[_0xfed297(0x145)]&&!_0x34441c[_0xfed297(0xbe)]&&!_0x34441c[_0xfed297(0xb5)]&&!_0x34441c[_0xfed297(0x12b)]){if(typeof showMenuState===_0xfed297(0x85))showMenuState();}}}else{switch(_0x34441c[_0xfed297(0xd9)]){case _0xfed297(0xba):case _0xfed297(0xcd):keyboardP1LeftDown=!![];break;case _0xfed297(0xe5):case'KeyD':keyboardP1RightDown=!![];break;case _0xfed297(0xb2):case _0xfed297(0x97):case'KeyW':keyboardP1ShootDown=!![];break;case _0xfed297(0x11a):if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case'KeyL':if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case'KeyI':if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case'Numpad4':if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0xfed297(0xb9):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case'Numpad0':if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case _0xfed297(0xf5):case _0xfed297(0x130):if(typeof stopGameAndShowMenu===_0xfed297(0x85))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&_0x34441c[_0xfed297(0x9b)]==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&_0x34441c[_0xfed297(0x9b)]==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&_0x34441c['key']==='i')keyboardP2ShootDown=!![];}}}}else{if(isShowingScoreScreen){if(!_0x34441c['altKey']&&!_0x34441c[_0xfed297(0xbe)]&&!_0x34441c[_0xfed297(0xb5)]&&!_0x34441c[_0xfed297(0x12b)]&&_0x34441c[_0xfed297(0x9b)]!=='p'&&_0x34441c[_0xfed297(0x9b)]!=='P'){if(typeof showMenuState==='function')showMenuState();return;}}else{stopAutoDemoTimer();switch(_0x34441c['key']){case _0xfed297(0x97):case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case _0xfed297(0x7d):case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case _0xfed297(0x130):case'\x20':if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0xfed297(0xc1):selectedFiringMode=_0xfed297(0xd0),baseStartGame(!![]);else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else selectedButtonIndex===0x1&&exitGame();}}break;case _0xfed297(0xf5):if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer()):exitGame();break;default:startAutoDemoTimer();break;}}}}catch(_0xdc1418){console[_0xfed297(0x121)](_0xfed297(0x126),_0xdc1418),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function handleKeyUp(_0x2477a8){const _0x31d8e8=_0x136834;try{switch(_0x2477a8[_0x31d8e8(0xd9)]){case'ArrowLeft':case _0x31d8e8(0xcd):keyboardP1LeftDown=![];break;case _0x31d8e8(0xe5):case'KeyD':keyboardP1RightDown=![];break;case _0x31d8e8(0xb2):case _0x31d8e8(0x97):case _0x31d8e8(0x12f):keyboardP1ShootDown=![];break;case _0x31d8e8(0x11a):keyboardP2LeftDown=![];break;case'KeyL':keyboardP2RightDown=![];break;case'KeyI':keyboardP2ShootDown=![];break;case _0x31d8e8(0x7e):keyboardP2LeftDown=![];break;case _0x31d8e8(0xb9):keyboardP2RightDown=![];break;case _0x31d8e8(0x72):keyboardP2ShootDown=![];break;}if(keyboardP2LeftDown&&_0x2477a8[_0x31d8e8(0x9b)]==='j')keyboardP2LeftDown=![];if(keyboardP2RightDown&&_0x2477a8[_0x31d8e8(0x9b)]==='l')keyboardP2RightDown=![];if(keyboardP2ShootDown&&_0x2477a8[_0x31d8e8(0x9b)]==='i')keyboardP2ShootDown=![];}catch(_0x38ddd0){console[_0x31d8e8(0x121)](_0x31d8e8(0x8e),_0x38ddd0),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![];}}function handleGamepadConnected(_0x5a6b22){const _0xee079b=_0x136834;try{if(connectedGamepadIndex===null){connectedGamepadIndex=_0x5a6b22[_0xee079b(0xce)][_0xee079b(0xaa)];const _0x50f273=_0x5a6b22['gamepad'][_0xee079b(0xa8)][_0xee079b(0xcf)];previousButtonStates=new Array(_0x50f273)[_0xee079b(0x70)](![]),previousDemoButtonStates=new Array(_0x50f273)[_0xee079b(0x70)](![]),previousGameButtonStates=new Array(_0x50f273)['fill'](![]),!isInGameState&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x5a6b22[_0xee079b(0xce)][_0xee079b(0xaa)];const _0x27b06d=_0x5a6b22[_0xee079b(0xce)][_0xee079b(0xa8)][_0xee079b(0xcf)];previousGameButtonStatesP2=new Array(_0x27b06d)['fill'](![]);}}}catch(_0x430947){console['error']('Error\x20in\x20handleGamepadConnected:',_0x430947);}}function handleGamepadDisconnected(_0x1c97f4){const _0x11fba4=_0x136834;try{if(connectedGamepadIndex===_0x1c97f4['gamepad'][_0x11fba4(0xaa)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x1c97f4[_0x11fba4(0xce)]['index']&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0x33274e){console['error'](_0x11fba4(0xd2),_0x33274e),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x535782=_0x136834;try{let _0x5ecf6f=0x0;isTwoPlayerMode?_0x5ecf6f=Math[_0x535782(0xff)](player1Score,player2Score):_0x5ecf6f=score,isManualControl&&_0x5ecf6f>highScore&&(highScore=_0x5ecf6f);}catch(_0x2afe80){console[_0x535782(0x121)]('Error\x20in\x20saveHighScore:',_0x2afe80);}}function loadHighScore(){const _0x227fee=_0x136834;try{highScore=0x4e20;}catch(_0x572512){console[_0x227fee(0x121)](_0x227fee(0x9a),_0x572512),highScore=0x4e20;}}function muteAllSounds(){const _0x5918ea=_0x136834;audioCtx&&masterGainNode&&(previousMasterGain=masterGainNode[_0x5918ea(0x90)][_0x5918ea(0x83)],masterGainNode[_0x5918ea(0x90)][_0x5918ea(0x94)](0x0,audioCtx['currentTime'],0.01));for(const _0x4c2628 in playingLoopSources){stopSound(_0x4c2628);}isGridSoundPlaying=![];}function unmuteAllSounds(){const _0x1cfefe=_0x136834;audioCtx&&masterGainNode&&masterGainNode['gain'][_0x1cfefe(0x94)](previousMasterGain,audioCtx['currentTime'],0.01),!isInGameState&&typeof menuMusicSound!==_0x1cfefe(0x9e)&&playSound(menuMusicSound,!![]),isInGameState&&!isChallengingStage&&enemies[_0x1cfefe(0x13d)](_0x2f82d7=>_0x2f82d7?.['state']==='in_grid')&&playSound(gridBackgroundSound,!![]),isShowingResultsScreen&&playSound(resultsMusicSound,!![]);}function togglePause(){const _0x134b9e=_0x136834;if(!isInGameState||playerLives<=0x0||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)return;isPaused=!isPaused;if(isPaused){muteAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(gameCanvas)gameCanvas['style'][_0x134b9e(0x135)]=_0x134b9e(0x96);}else unmuteAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function processSingleController(_0x310d61,_0x5d8d01){const _0x453ad0=_0x136834,_0x5af8e6=_0x310d61[_0x453ad0(0xa8)][_0x453ad0(0xb0)](_0x268e34=>_0x268e34[_0x453ad0(0xad)]),_0x92ad8e={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0x5af8e6[_0x453ad0(0x129)]()},_0x14bb82=_0x5af8e6[PS5_BUTTON_CROSS],_0x2d2ec6=_0x5af8e6[PS5_BUTTON_R1],_0x441610=_0x5d8d01[PS5_BUTTON_R1]??![],_0x36b849=_0x5af8e6[PS5_BUTTON_TRIANGLE],_0x4e9ccc=_0x5d8d01[PS5_BUTTON_TRIANGLE]??![],_0x299950=_0x310d61[_0x453ad0(0x108)][PS5_LEFT_STICK_X]??0x0,_0x25261a=_0x5af8e6[PS5_DPAD_LEFT],_0x23bc17=_0x5af8e6[PS5_DPAD_RIGHT],_0xfba3da=AXIS_DEAD_ZONE_GAMEPLAY;if(_0x299950<-_0xfba3da||_0x25261a)_0x92ad8e[_0x453ad0(0xf9)]=!![];else(_0x299950>_0xfba3da||_0x23bc17)&&(_0x92ad8e[_0x453ad0(0xdd)]=!![]);return _0x14bb82&&(_0x92ad8e[_0x453ad0(0x125)]=!![]),_0x2d2ec6&&!_0x441610&&(_0x92ad8e[_0x453ad0(0xe3)]=!![]),_0x36b849&&!_0x4e9ccc&&(_0x92ad8e[_0x453ad0(0x114)]=!![]),_0x92ad8e;}function triggerFinalGameOverSequence(){const _0x23d225=_0x136834;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();stopSound(gridBackgroundSound),stopSound(menuMusicSound),stopSound(resultsMusicSound),stopSound(captureSound),stopSound(entranceSound),isGridSoundPlaying=![];const _0x30c660=Date[_0x23d225(0x11b)]();!isTwoPlayerMode?(playSound(gameOverSound),gameOverSequenceStartTime=_0x30c660):(gameOverSequenceStartTime=_0x30c660-GAME_OVER_DURATION,playSound(resultsMusicSound,!![]),isShowingResultsScreen=!![]),bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}